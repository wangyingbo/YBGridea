{
  "posts": [
    {
      "content": "\n\n<!DOCTYPE html>\n<html>\n\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n\n  <title>How Do I Declare A Block in Objective-C?</title>\n  <style>body {\n      background-color: #002b36;\n      color: #839496;\n      font-family: Lucida Grande, sans-serif;\n      font-size: 20px;\n      padding: 40px;\n      padding-bottom: 0;\n    }\n\n    strong {\n      color: #268bd2;\n    }\n\n    h1 {\n      font-size: 40px;\n      margin-bottom: 1.5em;\n      text-align: center;\n    }\n\n    h2 {\n      font-weight: normal;\n    }\n\n    .return {\n      color: #2aa198;\n    }\n\n    .name {\n      color: #BC8800;\n    }\n\n    .parameter-types, .parameters {\n      color: #7C9F00;\n    }\n    \n    .nullability {\n      color: #EC407A;\n    }\n\n    .disclaimer {\n      line-height: 2em;\n    }\n\n    code {\n      display: block;\n      font-family: Monaco, Menlo, monospace;\n      font-size: 20px;\n      margin-bottom: 3em;\n      margin-left: 40px;\n      margin-top: 1.5em;\n    }\n\n    footer {\n      font-size: 12px;\n      margin-top: 200px;\n      opacity: 0.4;\n      text-align: right;\n    }\n\n    a {\n      color: #0088D9;\n      text-decoration: none;\n    }\n\n  </style>\n\n  <style media=\"print\">body {\n      background-color: #FFFFFF;\n      font-size: 16px;\n      padding: 20px;\n    }\n\n    h1 {\n      font-size: 28px;\n      margin-bottom: 1em;\n    }\n\n    code {\n      font-size: 16px;\n      margin-bottom: 2em;\n      margin-left: 20px;\n    }\n\n    footer {\n      font-size: 10px;\n      margin-top: 40px;\n    }\n  </style>\n\n  <link rel=\"apple-touch-icon\" sizes=\"57x57\" href=\"apple-touch-icon-57x57.png\">\n  <link rel=\"apple-touch-icon\" sizes=\"114x114\" href=\"apple-touch-icon-114x114.png\">\n  <link rel=\"apple-touch-icon\" sizes=\"72x72\" href=\"apple-touch-icon-72x72.png\">\n  <link rel=\"apple-touch-icon\" sizes=\"144x144\" href=\"apple-touch-icon-144x144.png\">\n  <link rel=\"apple-touch-icon\" sizes=\"60x60\" href=\"apple-touch-icon-60x60.png\">\n  <link rel=\"apple-touch-icon\" sizes=\"120x120\" href=\"apple-touch-icon-120x120.png\">\n  <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"apple-touch-icon-76x76.png\">\n  <link rel=\"apple-touch-icon\" sizes=\"152x152\" href=\"apple-touch-icon-152x152.png\">\n  <link rel=\"icon\" type=\"image/png\" href=\"favicon-196x196.png\" sizes=\"196x196\">\n  <link rel=\"icon\" type=\"image/png\" href=\"favicon-160x160.png\" sizes=\"160x160\">\n  <link rel=\"icon\" type=\"image/png\" href=\"favicon-96x96.png\" sizes=\"96x96\">\n  <link rel=\"icon\" type=\"image/png\" href=\"favicon-16x16.png\" sizes=\"16x16\">\n  <link rel=\"icon\" type=\"image/png\" href=\"favicon-32x32.png\" sizes=\"32x32\">\n\n  <link rel=\"mask-icon\" href=\"pinned-tab.svg\" color=\"#002b36\">\n\n</head>\n\n<body>\n  <h1>How Do I Declare A Block in Objective-C?</h1>\n\n  <div>\n    <h2>As a <strong>local variable</strong>:</h2>\n    <code>\n      <span class=\"return\">returnType</span> (^<span class=\"name\">blockName</span>)(<span class=\"parameter-types\">parameterTypes</span>) = ^<span class=\"return\">returnType</span>(<span class=\"parameters\">parameters</span>) {...};\n    </code>\n  </div>\n\n  <div>\n    <h2>As a <strong>property</strong>:</h2>\n    <code>\n      @property (nonatomic, copy, <span class=\"nullability\">nullability</span>) <span class=\"return\">returnType</span> (^<span class=\"name\">blockName</span>)(<span class=\"parameter-types\">parameterTypes</span>);\n    </code>\n  </div>\n\n  <div>\n    <h2>As a <strong>method parameter</strong>:</h2>\n    <code>\n      - (void)someMethodThatTakesABlock:(<span class=\"return\">returnType</span> (^<span class=\"nullability\">nullability</span>)(<span class=\"parameter-types\">parameterTypes</span>))<span class=\"name\">blockName</span>;\n    </code>\n  </div>\n\n  <div>\n    <h2>As an <strong>argument to a method call</strong>:</h2>\n    <code>\n      [someObject someMethodThatTakesABlock:^<span class=\"return\">returnType</span> (<span class=\"parameters\">parameters</span>) {...}];\n    </code>\n  </div>\n  \n  <div>\n    <h2>As a <strong>parameter to a C function</strong>:</h2>\n    <code>\n      void SomeFunctionThatTakesABlock(<span class=\"return\">returnType </span>(^<span class=\"name\">blockName</span>)(<span class=\"parameter-types\">parameterTypes</span>));<br/>\n    </code>\n  </div>\n\n  <div>\n    <h2>As a <strong>typedef</strong>:</h2>\n    <code>\n      typedef <span class=\"return\">returnType</span> (^<span class=\"name\">TypeName</span>)(<span class=\"parameter-types\">parameterTypes</span>);<br/>\n      <span class=\"name\">TypeName</span> blockName = ^<span class=\"return\">returnType</span>(<span class=\"parameters\">parameters</span>) {...};\n    </code>\n  </div>\n\n  <div class=\"disclaimer\">\n    This site is not intended to be an exhaustive list of all possible uses of blocks.<br>\n    If you find yourself needing syntax not listed here, it is likely that a <strong>typedef</strong> would make your\n    code more readable.<br>\n    <br>\n    Unable to access this site due to the profanity in the URL? <strong><a href=\"http://goshdarnblocksyntax.com\">http://goshdarnblocksyntax.com</a></strong>\n    is a more work-friendly mirror.\n  </div>\n\n  <footer>By <a href=\"http://lazerwalker.com\">Em Lazer-Walker</a>, who has a very bad memory for this sort of thing.<br />\n    Like this site? Consider throwing me a few bucks via <a href='https://ko-fi.com/A2223KQN'>Ko-fi</a>.</footer>\n\n  <script>\n    (function (i, s, o, g, r, a, m) {\n      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {\n        (i[r].q = i[r].q || []).push(arguments)\n      }, i[r].l = 1 * new Date(); a = s.createElement(o),\n        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)\n    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\n    ga('create', 'UA-43658906-1', 'fuckingblocksyntax.com');\n    ga('send', 'pageview');\n  </script>\n\n</body>\n\n</html>\n",
      "data": {
        "title": "How Do I Declare A Block in Objective-C?",
        "date": "2022-07-06 17:39:12",
        "tags": [],
        "published": true,
        "hideInList": false,
        "feature": null,
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "how-do-i-declare-a-block-in-objective-c"
    },
    {
      "content": "\n> è½¬è½½è‡ª[pbowden-msft/Unlicense](https://github.com/pbowden-msft/Unlicense)\n\n\n# Unlicense\n<b>Microsoft Office 365/2021/2019/2016 for Mac License Removal Tool</b>\n\nPurpose: Removes current Office 365/2021/2019/2016 for Mac activation license and returns apps to an unlicensed state</br>\nUsage: `Unlicense [--All] [--DetectOnly] [--O365] [--Volume] [--ForceClose]`</br>\nExample: `Unlicense --All --ForceClose`</br>",
      "data": {
        "title": "Microsoft Office 365/2021/2019/2016 for Mac License ç§»é™¤å·¥å…·",
        "date": "2022-06-13 14:05:24",
        "tags": [
          "Macè½¯ä»¶",
          "shell"
        ],
        "published": true,
        "hideInList": false,
        "feature": null,
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "microsoft-office-365202120192016-for-mac-license-yi-chu-gong-ju"
    },
    {
      "content": "\n\n# ä»‹ç»\n\nBob æ˜¯ä¸€æ¬¾ Mac ç«¯ç¿»è¯‘è½¯ä»¶ï¼Œæ”¯æŒ**åˆ’è¯ç¿»è¯‘**ã€**æˆªå›¾ç¿»è¯‘**ä»¥åŠæ‰‹åŠ¨è¾“å…¥ç¿»è¯‘ã€‚\n\n- [x] åˆ’è¯ç¿»è¯‘\n- [x] æˆªå›¾ç¿»è¯‘\n- [x] è¾“å…¥ç¿»è¯‘\n- [x] ç¿»è¯‘å¤šå¼€\n- [x] è‡ªå®šä¹‰æ’ä»¶\n- [x] è‡ªåŠ¨è¯†åˆ«è¯­ç§\n- [x] é©¼å³°æ‹†åˆ†ã€è›‡å½¢æ‹†åˆ†\n- [x] AppleScript è°ƒç”¨\n- [x] PopClip è°ƒç”¨\n\n# å®˜ç½‘åœ°å€ [https://ripperhe.gitee.io/bob/#/](https://ripperhe.gitee.io/bob/#/)\n\n# å®‰è£…\n\n### ç³»ç»Ÿè¦æ±‚\n\n| ç‰ˆæœ¬ | ç³»ç»Ÿè¦æ±‚ |\n| --- | --- |\n| 0.1.0 - 0.4.0 | macOS 10.12+ |\n| 0.5.0+ | macOS 10.13+ |\n\n### Homebrew Cask å®‰è£…ï¼ˆæŠ€æœ¯äººå‘˜ä½¿ç”¨ï¼‰\n\n```bash\nbrew install --cask bob\n```\n\n### æ‰‹åŠ¨å®‰è£…ï¼ˆæ™®é€‚ï¼‰\n\n| æ¸ é“ | å»ºè®® | ä¸‹è½½ |\n| --- | --- | --- |\n| ä» [GitHub release](https://github.com/ripperhe/Bob/releases) ä¸‹è½½ | å›½å¤–ä»è¿™é‡Œä¸‹è½½æ›´å¿« | [ç‚¹æ­¤ä¸‹è½½ â¬‡](https://github.com/ripperhe/Bob/releases/latest/download/Bob.zip) |\n| ä» [Gitee release](https://gitee.com/ripperhe/Bob/releases) ä¸‹è½½ | å›½å†…ä»è¿™é‡Œä¸‹è½½æ›´å¿« | [ç‚¹æ­¤ä¸‹è½½ â¬‡](https://gitee.com/ripperhe/Bob/attach_files/980744/download/Bob.zip) |\n\nä¸‹è½½å®Œæˆä¹‹åï¼Œè§£å‹å¹¶æ‹–æ‹½åˆ°**åº”ç”¨ç¨‹åº**æ–‡ä»¶å¤¹å³å¯\n\n# å¦‚ä½•ä½¿ç”¨\n\n## è½¯ä»¶ä»‹ç»\n\næ‰“å¼€bob åå¥½è®¾ç½®\n\n![åå¥½è®¾ç½®](https://raw.githubusercontent.com/wangyingbo/PrivateImages/master/2022/202206071904916.png)\n\nè½¯ä»¶é¡µé¢å¦‚ä¸‹å›¾ï¼Œä¸»è¦ç”¨åˆ°ä»¥ä¸‹ä¸¤ä¸ªåŠŸèƒ½ã€‚å…¶ä¸­`åå¥½è®¾ç½®`æ˜¯è®¾ç½®å¸¸ç”¨å¿«æ·é”®ä»¥åŠç”¨æˆ·åå¥½çš„ï¼Œ`æœåŠ¡`é‡ç‚¹æ˜¯ç¿»è¯‘åŠŸèƒ½ä»¥åŠæˆªå›¾è¯†åˆ«å¹¶ç¿»è¯‘åŠŸèƒ½ã€‚\n\n![è½¯ä»¶é¡µé¢](https://raw.githubusercontent.com/wangyingbo/PrivateImages/master/2022/202206071906587.png)\n\nç‚¹å‡»`æ–‡æœ¬ç¿»è¯‘`tabä¸‹çš„â€œ+â€å·æ·»åŠ ä¸€ç§APIï¼Œå¸¸ç”¨çš„æœ‰ç™¾åº¦ç¿»è¯‘ï¼Œè…¾è®¯ç¿»è¯‘ï¼Œé˜¿é‡Œç¿»è¯‘ç­‰ã€‚å…¶ä¸­è½¯ä»¶é»˜è®¤æä¾›äº†ä¸€ç§ç™¾åº¦ç¿»è¯‘çš„ï¼Œä¸è¿‡ç™¾åº¦ç¿»è¯‘çš„ç§˜é’¥æ˜¯ä½œè€…å…è´¹æä¾›çš„ï¼Œä¸ç¨³å®šï¼Œå¯ä»¥æ·»åŠ å®ŒæœåŠ¡ä»¥åè‡ªå·±ç”³è¯·å¯¹åº”å¹³å°çš„ç§˜é’¥ï¼Œä½¿ç”¨è‡ªå·±çš„ç§˜é’¥è¿›è¡Œç¿»è¯‘ã€‚\n\n![æ–‡æœ¬ç¿»è¯‘](https://raw.githubusercontent.com/wangyingbo/PrivateImages/master/2022/202206071906502.png)\n\n![æ·»åŠ ç§˜é’¥](https://raw.githubusercontent.com/wangyingbo/PrivateImages/master/2022/202206071907135.png)\n\nå…¶ä¸­`ç®€æ˜è‹±æ±‰è¯å…¸`å’Œ`é‡‘å±±è¯éœ¸`æ˜¯å†…ç½®çš„ï¼Œå¯ä»¥æ·»åŠ ä¸Šå»ã€‚å¦‚æœä½¿ç”¨`ç®€æ˜è‹±æ±‰è¯å…¸`åˆ«å¿˜è®°ä¸‹è½½å¼€æºçš„è¯å…¸æ•°æ®åº“ï¼Œå¯ä»¥ä½¿ç¿»è¯‘æ›´ç²¾ç¡®ã€‚\n\n![å†…ç½®](https://raw.githubusercontent.com/wangyingbo/PrivateImages/master/2022/202206071908179.png)\n\nåœ¨`æ–‡æœ¬è¯†åˆ«`ç¿»è¯‘ä¸­ï¼Œå»ºè®®ä½¿ç”¨å†…ç½®çš„`ç¦»çº¿æ–‡æœ¬è¯†åˆ«`ï¼Œè¿™ä¸ªä½¿ç”¨çš„æ˜¯Macç³»ç»Ÿå†…ç½®çš„æ–‡å­—è¯†åˆ«æœåŠ¡ï¼Œå¯å…è´¹ä½¿ç”¨ã€‚å½“å‰å¦‚æœæ„Ÿè§‰ç³»ç»Ÿæ–‡å­—è¯†åˆ«æ•ˆæœä¸å¥½ï¼Œä¹Ÿå¯ç”¨ç‚¹å‡»â€œ+â€å·æ·»åŠ ä¸‹é¢çš„å¹³å°æœåŠ¡ï¼Œè‡ªå·±å»ç”³è¯·ç§˜é’¥æ·»åŠ ã€‚\n\n![æ–‡æœ¬è¯†åˆ«](https://raw.githubusercontent.com/wangyingbo/PrivateImages/master/2022/202206071909727.png)\n\nåœ¨`è¯­éŸ³åˆæˆ`ä¸­ï¼ŒåŒæ ·å»ºè®®ä½¿ç”¨ç³»ç»Ÿçš„`ç¦»çº¿è¯­éŸ³åˆæˆ`ï¼Œè°ƒç”¨Macç³»ç»ŸåŸç”Ÿçš„è¯»å±å¹•åŠŸèƒ½ã€‚åŒæ ·å¯ä»¥ç‚¹å‡»â€œ+â€å·å•ç‹¬ç”³è¯·å„ä¸ªå¹³å°ç‹¬ç«‹çš„ç§˜é’¥ä½¿ç”¨ã€‚\n\n![è¯­éŸ³åˆæˆ](https://raw.githubusercontent.com/wangyingbo/PrivateImages/master/2022/202206071909716.png)\n\n## pluginçš„ä»‹ç»ã€‚\n\næ’ä»¶æ˜¯è½¯ä»¶æä¾›çš„ç¬¬ä¸‰æ–¹é›†æˆæœåŠ¡ï¼Œå¯æ‹“å±•æ­¤è½¯ä»¶åŠŸèƒ½ã€‚ä½¿ç”¨æ–¹æ³•æ˜¯ï¼Œå…ˆä¸‹è½½æ’ä»¶ï¼Œç„¶ååŒå‡»å³å¯å®‰è£…ã€‚å®‰è£…è¿‡çš„æ’ä»¶ï¼Œä¼šåœ¨ç‚¹å‡»â€œ+â€å·æ—¶æ˜¾ç¤ºå¯ç”¨çŠ¶æ€ã€‚\n\n[æ’ä»¶ä½¿ç”¨æ•™ç¨‹](https://ripperhe.gitee.io/bob/#/general/quickstart/plugin)\n\n![plugin](https://raw.githubusercontent.com/wangyingbo/PrivateImages/master/2022/202206071910199.png)\n\næ’ä»¶ä¸‹è½½è¿‡ç¨‹ï¼Œé¦–å…ˆæ‰“å¼€é“¾æ¥[https://github.com/topics/bobplugin](https://github.com/topics/bobplugin)ï¼Œæ‰“å¼€é¡µé¢å¦‚å›¾\n\n![plugin-list](https://raw.githubusercontent.com/wangyingbo/PrivateImages/master/2022/202206071911971.jpeg)\n\nç„¶åé€‰æ‹©ä½ éœ€è¦çš„æ’ä»¶ï¼Œæœ¬ä¾‹ä»¥ç¬¬ä¸€ä¸ª`bobplugin-google-translate`è°·æ­Œç¿»è¯‘æ’ä»¶ä¸ºä¾‹ã€‚ç‚¹å‡»ç¬¬ä¸€ä¸ªè¿›å…¥é¡µé¢:\n\n![bobplugin-google-translate](https://raw.githubusercontent.com/wangyingbo/PrivateImages/master/2022/202206071912926.jpeg)\n\nç‚¹å‡»ç®­å¤´æ‰€æŒ‡çš„åœ°æ–¹ï¼Œå³Releaseä¸‹é¢çš„ç‰ˆæœ¬å·ï¼Œç‚¹å‡»åè¿›å…¥æœ€æ–°ç‰ˆæœ¬çš„å‘å¸ƒé¡µé¢ï¼š\n\n![bobplugin-google-translate release](https://raw.githubusercontent.com/wangyingbo/PrivateImages/master/2022/202206071912568.jpeg)\n\nç‚¹å‡»ç®­å¤´æ‰€ç¤ºçš„ï¼Œä»¥`.bobplugin`ä¸ºåç¼€çš„æ–‡ä»¶ï¼Œä¼šè‡ªåŠ¨ä¸‹è½½ã€‚ä¸‹è½½åçš„æ–‡ä»¶ï¼Œç›´æ¥åŒå‡»è¿›è¡Œå®‰è£…ï¼š\n\n![install plugin](https://raw.githubusercontent.com/wangyingbo/PrivateImages/master/2022/202206071913327.jpeg)\n\nå®‰è£…åå¯åœ¨å…¨éƒ¨æ’ä»¶é‡Œçœ‹åˆ°æ­¤æ’ä»¶ï¼š\n\n![all plugins](https://raw.githubusercontent.com/wangyingbo/PrivateImages/master/2022/202206071913315.png)\n\nå¯ä»¥åœ¨`æœåŠ¡`é‡Œçš„`æ–‡æœ¬ç¿»è¯‘`çš„â€œ+â€å·é‡Œæ·»åŠ ä½¿ç”¨ã€‚\n\n![æ–‡æœ¬ç¿»è¯‘æ·»åŠ æ’ä»¶](https://raw.githubusercontent.com/wangyingbo/PrivateImages/master/2022/202206071914167.png)\n\n**æ’ä»¶æ¨è**\n\nè¿™æ˜¯ Bob çš„ä¸€ä¸ª google è¯­æ³•æ£€æŸ¥æ’ä»¶, åŸºäº Bob google ç¿»è¯‘æ’ä»¶ä¿®æ”¹è€Œæ¥ã€‚æ’ä»¶ä¼šå…ˆå°†è¾“å…¥çš„æ–‡æœ¬ä½¿ç”¨ google ç¿»è¯‘ä¸€éï¼Œå†æŠŠç¿»è¯‘ç»“æœç”¨ google ç¿»è¯‘å›è¾“å…¥è¯­è¨€ï¼Œé€‚ç”¨äºä¹¦å†™è‹±æ–‡æ—¶æŸ¥çœ‹ Google ç¿»è¯‘æ¨èçš„å†™æ³•ï¼Œä¹Ÿè®¸å¯ä»¥å¸®ä½ çº æ­£æ—¶æ€ã€è¡¥å……å®šè¯­ã€æ¨èæ›´å‡†ç¡®çš„å•è¯ç­‰ã€‚\n[https://github.com/tankxu/bobplugin-google-translate-grammar-checker](https://github.com/tankxu/bobplugin-google-translate-grammar-checker)\nBob çš„ä¸€ä¸ªGoogle ç¿»è¯‘æ’ä»¶ã€‚ä½¿ç”¨Googleç¿»è¯‘è¿›è¡Œç¿»è¯‘ï¼Œæ— éœ€ç¿»å¢™å³å¯ä½¿ç”¨ã€‚\n[https://github.com/roojay520/bobplugin-google-translate](https://github.com/roojay520/bobplugin-google-translate)\nèƒ½ä¸èƒ½å¥½å¥½å¥½è¯´è¯ã€‚äº’è”ç½‘ç¼©å†™è¯ã€æ½®æµè¯æŸ¥è¯¢ç­‰ã€‚\n[https://github.com/roojay520/bobplug-nbnhhsh](https://github.com/roojay520/bobplug-nbnhhsh)\nä¸€ä¸ª Bob æ’ä»¶ï¼Œæ”¯æŒç®€ç¹äº’è½¬ï¼Œæ±‰å­—>æ‹¼éŸ³ï¼Œæ±‰å­—>ç«æ˜Ÿæ–‡è½¬æ¢ã€‚\n[https://github.com/roojay520/bobplug-pinyin](https://github.com/roojay520/bobplug-pinyin)\nGoogle ttsæ–‡å­—è½¬è¯­éŸ³æ’ä»¶ã€‚\n[https://github.com/roojay520/bobplug-google-tts](https://github.com/roojay520/bobplug-google-tts)\n\n\n----\n\n\n# å„ä¸ªæœåŠ¡å¹³å°çš„ç”³è¯·æ•™ç¨‹å’Œå¹³å°å¯¹æ¯”\n\nè¯·å‚è€ƒé“¾æ¥  [æœåŠ¡æ•™ç¨‹ä¸å„å¹³å°å¯¹æ¯”](https://ripperhe.gitee.io/bob/#/general/quickstart/service)\n\nBob çš„ç¿»è¯‘åŠŸèƒ½æ˜¯ç”±å‡ ç§çš„æœåŠ¡é…åˆå®Œæˆçš„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n\n| æœåŠ¡ | ä½¿ç”¨åœºæ™¯ |\n| :-- | :-- |\n| æ–‡æœ¬ç¿»è¯‘ | ç”¨äºç¿»è¯‘æ–‡æœ¬ï¼Œ**æ¯æ¬¡ç¿»è¯‘éƒ½ä¼šè°ƒç”¨** |\n| æ–‡æœ¬è¯†åˆ« | ç”¨äºè·å–å›¾ç‰‡ä¸­çš„æ–‡æœ¬ï¼Œ**æˆªå›¾ç¿»è¯‘æ—¶ä¼šè°ƒç”¨** |\n| è¯­éŸ³åˆæˆ | ç”¨äºåˆæˆéŸ³é¢‘ï¼Œç‚¹å‡»ç¿»è¯‘é¡µé¢æ’­æ”¾æŒ‰é’®æ—¶ä¼šè°ƒç”¨ |\n\næ¯ç§æœåŠ¡æˆ‘éƒ½æ¥å…¥äº†å¤šå®¶æœåŠ¡å•†çš„æœåŠ¡ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½è‡ªç”±é€‰æ‹©ã€‚\n\n**Bob æœ¬èº«æ˜¯ä¸æ”¶è´¹çš„ï¼Œä½†ä½¿ç”¨æŸäº›æœåŠ¡å¯èƒ½éœ€è¦ç»™æœåŠ¡å•†æ”¯ä»˜ä¸€å®šçš„è´¹ç”¨ï¼Œè¿™å’Œ Bob æ— å…³**ã€‚\n\næ‰€ä»¥ä½ ç°åœ¨æœ‰ä¸‰ä¸ªé€‰æ‹©ï¼š\n\n1. ä½¿ç”¨ Bob å†…ç½®çš„æœåŠ¡\n    * è¿™äº›æœåŠ¡å¯ä»¥ç›´æ¥æ·»åŠ ä½¿ç”¨ï¼Œæ— éœ€é¢å¤–é…ç½®\n    * è¿™äº›æœåŠ¡è¦ä¹ˆæœ¬æ¥å°±æ˜¯å…è´¹çš„ï¼Œè¦ä¹ˆå°±æ˜¯å¡«çš„æˆ‘çš„ç§˜é’¥ï¼Œç„¶åæˆ‘å…±äº«ç»™å¤§å®¶ä½¿ç”¨äº†\n    * æˆ‘çš„ç§˜é’¥æ¯æœˆçš„æ€»é¢åº¦å’Œæ¯ç§’å¹¶å‘è¯·æ±‚æ•°éƒ½æ˜¯æœ‰é™çš„ï¼Œ**éšç€ä½¿ç”¨äººæ•°çš„å¢å¤šï¼Œä¸€å®šä¼šå‡ºç°è°ƒç”¨ç¼“æ…¢ç”šè‡³å®Œå…¨æ— æ³•ä½¿ç”¨çš„æƒ…å†µ**\n2. è‡ªè¡Œç”³è¯·ç§äººç§˜é’¥\n    * ç¨³å®šå¯é ï¼Œç”³è¯·ä¸€æ¬¡å¯æŒç»­ä½¿ç”¨\n    * **è®¸å¤šæœåŠ¡éƒ½æœ‰å¤§é‡å…è´¹é¢åº¦ï¼Œç§äººä½¿ç”¨è¶³å¤Ÿäº†**\n    * éœ€è¦è‡ªè¡Œç”³è¯·ï¼Œå¯èƒ½ç•¥æ˜¾ç¹ç\n3. è‡ªå®šä¹‰æ’ä»¶\n    * å¯ä»¥åˆ©ç”¨ `JavaScript` è‡ªå®šä¹‰ API\n    * å¯ä»¥ç”¨äºæ¥å…¥ä¸€äº›ä½ éœ€è¦ï¼Œä½†æ˜¯ Bob æ²¡æœ‰æ¥å…¥çš„æœåŠ¡\n    * éœ€è¦ä¸€å®šçš„ç¼–ç èƒ½åŠ›ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥ä½¿ç”¨ä»–äººå†™å¥½çš„ Bob æ’ä»¶\n\n### å·²æ¥å…¥çš„æœåŠ¡\n\nä¸‹æ–¹åˆ—å‡ºäº† Bob å·²æ¥å…¥çš„æ‰€æœ‰æœåŠ¡ï¼ŒåŒæ—¶ä¹Ÿå±•ç¤ºçš„å„å¤§æœåŠ¡å•†çš„å¤§è‡´æ”¶è´¹æƒ…å†µï¼Œ**æ•°æ®ä»…ä¾›å‚è€ƒ**ã€‚æ¯ä¸ªæœåŠ¡å•†çš„è®¡è´¹è§„åˆ™å¤æ‚å¤šæ ·ï¼Œéšç€æ—¶é—´æ¨ç§»å¯èƒ½æœ‰ä¸€å®šå˜åŒ–ã€‚\n\n?> æˆ‘é’ˆå¯¹æ¯ä¸ªå¯ä»¥ç”³è¯·ç§äººç§˜é’¥çš„æœåŠ¡éƒ½å†™äº†ä¸€ç¯‡ç”³è¯·æ•™ç¨‹ï¼Œè·Ÿéšæ•™ç¨‹åº”è¯¥å¾ˆå¿«å°±èƒ½ç”³è¯·å®Œæˆã€‚ ğŸ’ª\n\næ–‡æœ¬ç¿»è¯‘ï¼š\n\n| æœåŠ¡ | å…è´¹é¢åº¦ | è¶…å‡ºå…è´¹é¢åº¦ | å¹¶å‘è¯·æ±‚æ•° | ç”³è¯·æ•™ç¨‹ |\n| :-- | :-- | :-- | :-- | :-- |\n| ç™¾åº¦ç¿»è¯‘è¯•ç”¨ç‰ˆ | - | - | - | å†…ç½®æœåŠ¡ï¼Œæ— éœ€ç”³è¯·ï¼Œä¸ä¿è¯ç¨³å®šæ€§ |\n| é‡‘å±±è¯éœ¸ | - | - | - | å†…ç½®æœåŠ¡ï¼Œæ— éœ€ç”³è¯·ï¼Œä¸ä¿è¯ç¨³å®šæ€§ |\n| ç®€æ˜è‹±æ±‰è¯å…¸å¢å¼ºç‰ˆ | - | - | - | å†…ç½®æœåŠ¡ï¼Œæ— éœ€ç”³è¯·ï¼Œä¸ä¿è¯ç¨³å®šæ€§ |\n| è…¾è®¯ç¿»è¯‘å› | æ¯æœˆ500ä¸‡å­—ç¬¦ ğŸ‘ | 58å…ƒ/100ä¸‡å­—ç¬¦ | 5æ¬¡/ç§’ | [ç‚¹æ­¤è·³è½¬](service/translate/tencent.md) |\n| ç™¾åº¦ç¿»è¯‘ | å®Œå…¨å…è´¹ï¼Œæ— é™ä½¿ç”¨ ğŸ‘ | | 1æ¬¡/ç§’ | [ç‚¹æ­¤è·³è½¬](service/translate/baidu.md) |\n| é˜¿é‡Œç¿»è¯‘| æ¯æœˆ100ä¸‡å­—ç¬¦ ğŸ‘ | 50å…ƒ/100ä¸‡å­—ç¬¦ | 50æ¬¡/ç§’ | [ç‚¹æ­¤è·³è½¬](service/translate/ali.md) |\n| æœ‰é“ç¿»è¯‘ | æ—  | 48å…ƒ/100ä¸‡å­—ç¬¦ | æ— ç›¸å…³è¯´æ˜ | [ç‚¹æ­¤è·³è½¬](service/translate/youdao.md) |\n| æœç‹—ç¿»è¯‘ï¼ˆå³å°†ä¸‹çº¿ï¼‰ | æ—  | 40å…ƒ/100ä¸‡å­—ç¬¦ | 50æ¬¡/ç§’ | [ç‚¹æ­¤è·³è½¬](service/translate/sougou.md) |\n| å½©äº‘å°è¯‘ | æ¯æœˆ100ä¸‡å­—ç¬¦ ğŸ‘ | 20å…ƒ/100ä¸‡å­—ç¬¦ | æ— ç›¸å…³è¯´æ˜ | [ç‚¹æ­¤è·³è½¬](service/translate/caiyun.md) |\n| å°ç‰›ç¿»è¯‘ | æ—  | 500å…ƒ/1000ä¸‡å­—ç¬¦ | 50æ¬¡/ç§’ | [ç‚¹æ­¤è·³è½¬](service/translate/niu.md) |\n| Google ç¿»è¯‘ | æ¯æœˆ50ä¸‡å­—ç¬¦ | 20ç¾å…ƒ/100ä¸‡å­—ç¬¦ | æ— ç›¸å…³è¯´æ˜ | [ç‚¹æ­¤è·³è½¬](service/translate/google.md) |\n\næ–‡æœ¬è¯†åˆ«ï¼š\n\n| æœåŠ¡ | å…è´¹é¢åº¦ | è¶…å‡ºå…è´¹é¢åº¦ | å¹¶å‘è¯·æ±‚æ•° | ç”³è¯·æ•™ç¨‹ |\n| :-- | :-- | :-- | :-- | :-- |\n| ç¦»çº¿æ–‡æœ¬è¯†åˆ« | - | - | - | å†…ç½®æœåŠ¡ï¼ŒmacOS 11 ä»¥ä¸Šå¯ç”¨ï¼Œå¯ç¦»çº¿ä½¿ç”¨ |\n| ç™¾åº¦æ™ºèƒ½äº‘é€šç”¨ OCR è¯•ç”¨ç‰ˆ | - | - | - | å†…ç½®æœåŠ¡ï¼Œæ— éœ€ç”³è¯·ï¼Œä¸ä¿è¯ç¨³å®šæ€§ |\n| ç™¾åº¦æ™ºèƒ½äº‘é€šç”¨ OCR | æ¯æœˆ1000æ¬¡ ğŸ‘ | 0.0050å…ƒ/æ¬¡ | 2æ¬¡/ç§’ | [ç‚¹æ­¤è·³è½¬](service/ocr/baidu.md) |\n| è…¾è®¯äº‘é€šç”¨ OCR | æ¯æœˆ1000æ¬¡ ğŸ‘ | 0.15å…ƒ/æ¬¡ | æ— ç›¸å…³è¯´æ˜ | [ç‚¹æ­¤è·³è½¬](service/ocr/tencent.md) |\n| è…¾è®¯äº‘å›¾ç‰‡ç¿»è¯‘ | æ¯æœˆ10000æ¬¡ ğŸ‘ | 0.045å…ƒ/æ¬¡ | 1æ¬¡/ç§’ | [ç‚¹æ­¤è·³è½¬](service/ocr/tencentimagetranslate.md) |\n| æœ‰é“æ™ºäº‘é€šç”¨ OCR | æ—  | 0.01å…ƒ/æ¬¡ | æ— ç›¸å…³è¯´æ˜ | [ç‚¹æ­¤è·³è½¬](service/ocr/youdao.md) |\n| æœç‹—æ·±æ™º OCRï¼ˆå³å°†ä¸‹çº¿ï¼‰ | æ—  | 0.006å…ƒ/æ¬¡ | æ— ç›¸å…³è¯´æ˜ | [ç‚¹æ­¤è·³è½¬](service/ocr/sougou.md) |\n| Google OCR | æ¯æœˆ1000æ¬¡ ğŸ‘ | 1.5ç¾å…ƒ/1000æ¬¡ | 1800æ¬¡/åˆ†é’Ÿ | [ç‚¹æ­¤è·³è½¬](service/ocr/google.md) |\n\nè¯­éŸ³åˆæˆï¼š\n\n| æœåŠ¡ | å…è´¹é¢åº¦ | è¶…å‡ºå…è´¹é¢åº¦ | å¹¶å‘è¯·æ±‚æ•° | ç”³è¯·æ•™ç¨‹ |\n| :-- | :-- | :-- | :-- | :-- |\n| ç¦»çº¿è¯­éŸ³åˆæˆ | - | - | - | å†…ç½®æœåŠ¡ï¼ŒmacOS 10.15 ä»¥ä¸Šå¯ç”¨ï¼Œå¯ç¦»çº¿ä½¿ç”¨ |\n| è…¾è®¯äº‘è¯­éŸ³åˆæˆ | æ–°ç”¨æˆ·å¯é¢†å–800ä¸‡å­—ç¬¦ï¼Œ3æœˆå†…æœ‰æ•ˆ | 0.2å…ƒ/ä¸‡å­—ç¬¦ | 20æ¬¡/ç§’ï¼ˆå…è´¹è¯•ç”¨ä¸º3æ¬¡/ç§’ï¼‰ | [ç‚¹æ­¤è·³è½¬](service/tts/tencent.md) |\n| Google è¯­éŸ³åˆæˆ | æ¯æœˆ400ä¸‡å­—ç¬¦ ğŸ‘ | 4ç¾å…ƒ/100ä¸‡å­—ç¬¦ | æ— ç›¸å…³è¯´æ˜ | [ç‚¹æ­¤è·³è½¬](service/tts/google.md) |\n\n## é€šè¿‡æ’ä»¶æ¥å…¥æœåŠ¡\n\nè€ƒè™‘åˆ°éƒ¨åˆ†ç”¨æˆ·å¸Œæœ›è‡ªå®šä¹‰ APIï¼ŒBob æ”¯æŒä»¥æ’ä»¶çš„å½¢å¼è‡ªè¡Œå®ç°å„ç§æœåŠ¡ã€‚å°†å¼€å‘å®Œæˆçš„æ’ä»¶å®‰è£…åˆ° Bobï¼Œå³å¯åƒå…¶ä»–æ™®é€šçš„æœåŠ¡ä¸€æ ·ä½¿ç”¨ã€‚è¯¦æƒ…è§ [ä½¿ç”¨æ’ä»¶](general/quickstart/plugin.md) ç›¸å…³æ–‡ç« ã€‚\n\n## å¦‚ä½•æ·»åŠ å’Œå¯ç”¨æœåŠ¡?\n\nåœ¨ Bob ä¸­æ‰“å¼€ ã€Œåå¥½è®¾ç½®-ç¿»è¯‘-æœåŠ¡ã€ï¼Œè¿™é‡Œæˆ‘ä»¥ã€Œæ–‡æœ¬ç¿»è¯‘ã€æœåŠ¡ä¸ºä¾‹\n\n1. é€‰ä¸­ã€Œæ–‡æœ¬ç¿»è¯‘ã€tab æ \n2. ç‚¹å‡»é¡µé¢ä¸‹æ–¹çš„ <b><font color=red>+</font></b> å·\n3. åœ¨å¼¹å‡ºçš„èœå•ä¸­é€‰ä¸­è‡ªå·±æƒ³è¦æ·»åŠ çš„æœåŠ¡\n4. å¦‚æœæ·»åŠ çš„æ˜¯éœ€è¦è¾“å…¥ç§˜é’¥çš„æœåŠ¡ï¼Œè¯·å°†ç”³è¯·çš„ç§˜é’¥å¡«åˆ°æœåŠ¡è¯¦æƒ…çš„å¯¹åº”ä½ç½®ï¼ˆå¯ä»¥ç‚¹å‡» `éªŒè¯` æŒ‰é’®æµ‹è¯•ç§˜é’¥æ˜¯å¦æœ‰æ•ˆï¼‰\n5. ç¡®ä¿è‡ªå·±åˆšåˆšåˆ›å»ºçš„æœåŠ¡çš„å¼€å…³æ˜¯<b><font color=red>å¼€å¯çŠ¶æ€</font></b>\n6. ç‚¹å‡»é¡µé¢å³ä¸‹è§’<b><font color=red>ã€Œä¿å­˜ã€</font></b>æŒ‰é’®â—ï¸â—ï¸â—ï¸\n\n",
      "data": {
        "title": "å¼€æºç¿»è¯‘è½¯ä»¶bobä½¿ç”¨",
        "date": "2022-03-24 12:51:27",
        "tags": [
          "Macè½¯ä»¶"
        ],
        "published": true,
        "hideInList": false,
        "feature": "/post-images/kai-fa-fan-yi-ruan-jian-bob-shi-yong.png",
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "kai-fa-fan-yi-ruan-jian-bob-shi-yong"
    },
    {
      "content": "## åŠŸèƒ½\n\nè„šæœ¬å®ç°äº†ä¸‹è½½å®‰è£…`ohmyzsh`çš„å¸¸ç”¨æ’ä»¶åŠŸèƒ½ï¼Œå¹¶æ›¿æ¢`~/.zshrc`æ–‡ä»¶çš„pluginså­—æ®µé…ç½®ï¼›\nå®‰è£…çš„pluginsåˆ†åˆ«ä¸ºï¼š\n\n- `zsh-autosuggestions`ï¼š[zsh-autosuggestions](https://github.com/zsh-users/zsh-autosuggestions) æ­¤æ’ä»¶å®ç°äº†è‡ªåŠ¨è¡¥å…¨è¯­æ³•åŠŸèƒ½ï¼Œä¼šè‡ªåŠ¨ç¼“å­˜æ•²è¿‡ä¸€æ¬¡çš„ç»ˆç«¯å‘½ä»¤ï¼Œå¹¶ä¸”åœ¨ä¸‹æ¬¡è¾“å…¥åŒæ ·å‘½ä»¤çš„å‰å‡ ä¸ªå­—ç¬¦æ—¶ï¼Œè”æƒ³å‡ºå‘½ä»¤ï¼›\n\n![](https://hiwyb.github.io/post-images/1638166049959.png)\n\n- `zsh-syntax-highlighting`ï¼š[zsh-syntax-highlighting](https://github.com/zsh-users/zsh-syntax-highlighting) æ­¤æ’ä»¶å¯ä»¥è‡ªåŠ¨åˆ†æè¾“å…¥çš„Linux åŠå¸¸ç”¨å‘½ä»¤æ˜¯å¦æ­£ç¡®ï¼›\n\n![](https://hiwyb.github.io/post-images/1638167911169.gif)\n\n- `z`ï¼š[z](https://github.com/rupa/z) æ­¤æ’ä»¶å®ç°äº†è‡ªåŠ¨è·³è½¬ç›®å½•åŠŸèƒ½ï¼Œæ’ä»¶ä¼šä»¥å“ˆå¸Œè¡¨çš„å½¢å¼è‡ªåŠ¨è®°å½•ä½ è®¿é—®è¿‡çš„è·¯å¾„ï¼Œåœ¨ä¸‹æ¬¡è®¿é—®æ—¶ï¼Œç›´æ¥è¾“å…¥æ–‡ä»¶ç›®å½•çš„æœ€åä¸€çº§ï¼ŒæŒ‰`tab`å³å¯è”æƒ³å‡ºï¼›\n\n![](https://hiwyb.github.io/post-images/1638166661179.gif)\n\n## ä½¿ç”¨\n\nä½¿ç”¨å‰æœ¬åœ°éœ€å®‰è£… [ohmyzsh](https://github.com/ohmyzsh/ohmyzsh) ï¼Œå› GitHubå›½å†…è®¿é—®ç¯å¢ƒä¸ç¨³å®šï¼Œå› æ­¤é€šè¿‡gitee é•œåƒå®‰è£…ï¼›\n```\nsh -c \"$(curl -fsSL https://gitee.com/xrxiao/ohmyzsh/raw/master/tools/install.sh)\"\n```\n\nä½¿ç”¨`upgrade_oh_my_zsh`å‘½ä»¤å¯ä»¥æ‰‹åŠ¨æ›´æ–°å‡çº§ohmyzshã€‚\n\nä½¿ç”¨ä»¥ä¸‹è„šæœ¬è‡ªåŠ¨å®‰è£…`ohmyzsh`çš„å¸¸ç”¨pluginsã€‚è„šæœ¬è‡ªåŠ¨æ£€æµ‹æœ¬åœ°æ˜¯å¦å®‰è£…`ohmyzsh`ï¼Œå¦‚æœæ²¡å®‰è£…è¿‡ï¼Œä¼šç›´æ¥é€€å‡ºï¼›\n\n```\n#! /bin/bash\n# author: wangyingbo\n# date: 2021-11-26 13:00\n\n# zshrcæ–‡ä»¶è·¯å¾„\nfile_zshrc=~/.zshrc;\n\necho -e \"\\n\"\n\nfiles=$(ls ~/.oh-my-zsh 2> /dev/null | wc -l) # åˆ¤æ–­ç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨å·²çŸ¥åç¼€åæ–‡ä»¶\nif [ $files -ne 0 ] ; then \n\techo -e \"\\033[32;40m congratulations, the terminal has oh-my-zsh! \\033[0m\"\nelse\n\techo -e \"\\033[31;40m warning: no oh-my-zshï¼Œplease install oh-my-zsh first!!! \\033[0m\"\n\texit 1\nfi\n\necho -e \"\\n\"\necho -e \"\\033[33;40m will begin install oh-my-zsh pluginsï¼Œplease wait a minute \\033[0m\"\necho -e \"\\n\"\n\n# z is exist:æ–¹æ³•ä¸å¯ç”¨\nisExistZ() {\n\tpara=0\n\tfile=`command -v _z | grep \"_z\"`\n\techo $file\n\tif [[ $file =~ \"_z\" ]] ; then\n\t\tpara=1\n\telse\n\t\techo \"\"\n\tfi\n\treturn $para\n}\n\n# isExistZ\n# resZ=`echo $?`\n# echo $resZ\n# if [[ $resZ -eq 1 ]]; then\n# \techo -e \"\\033[32;40m have installed the plugin z \\033[0m\"\n# else\n# \techo -e \"\\033[33;40m will begin install plugin z \\033[0m\"\n# fi\n\n\nnewPlugins=\"\"\n# å®‰è£… plugin z\nif [[ -d ~/.oh-my-zsh/custom/plugins/z ]]; then\n\techo -e \"\\033[32;40m have installed the plugin z \\033[0m\"\n\techo -e \"\\n\"\nelse\t\n\techo -e \"\\033[33;40m will begin install plugin z \\033[0m\"\n\techo -e \"\\n\"\n\tgit clone https://github.com/rupa/z.git $ZSH_CUSTOM/plugins/z\n\tnewPlugins+=\" z\"\n\techo -e \"\\033[32;40m have installed the plugin z \\033[0m\"\nfi\nif [[ ! -d ~/.oh-my-zsh/custom/plugins/z ]]; then\n\techo -e \"\\033[31;40m error:install plugin zerror! \\033[0m\"\n\texit 1\nfi\n\n# å®‰è£… plugin zsh-autosuggestions\nif [[ -d ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions ]]; then\n\techo -e \"\\033[32;40m have installed the plugin zsh-autosuggestions \\033[0m\"\n\techo -e \"\\n\"\nelse\t\n\techo -e \"\\033[33;40m will begin install plugin zsh-autosuggestions \\033[0m\"\n\techo -e \"\\n\"\n\tgit clone git://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions\n\tnewPlugins+=\" zsh-autosuggestions\"\n\techo -e \"\\033[32;40m have installed the plugin zsh-autosuggestions \\033[0m\"\nfi\nif [[ ! -d ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions ]]; then\n\techo -e \"\\033[31;40m error:install plugin zsh-autosuggestionserror! \\033[0m\"\n\texit 1\nfi\n\n# å®‰è£… zsh-syntax-highlighting\nif [[ -d ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting ]]; then\n\techo -e \"\\033[32;40m have installed the plugin zsh-syntax-highlighting \\033[0m\"\n\techo -e \"\\n\"\nelse\t\n\techo -e \"\\033[33;40m will begin install plugin zsh-syntax-highlighting \\033[0m\"\n\techo -e \"\\n\"\n\tgit clone git://github.com/zsh-users/zsh-syntax-highlighting $ZSH_CUSTOM/plugins/zsh-syntax-highlighting\n\tnewPlugins+=\" zsh-syntax-highlighting\"\n\techo -e \"\\033[32;40m have installed the plugin zsh-syntax-highlighting \\033[0m\"\nfi\nif [[ ! -d ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting ]]; then\n\techo -e \"\\033[31;40m error:install plugin zsh-syntax-highlightingerror! \\033[0m\"\n\texit 1\nfi\n\n# åŒ¹é…ä»¥pluginå¼€å¤´ï¼Œä»¥)ç»“å°¾çš„å­—ç¬¦ä¸²\nplugins=`grep \"^plugin.*)$\" $file_zshrc`\necho \"current plugins: $plugins\"\necho -e \"\\n\"\n\n# newPlugins+=\" z\"\n# newPlugins+=\" zsh-autosuggestions\"\n# newPlugins+=\" zsh-syntax-highlighting\"\necho \"new pluginsï¼š$newPlugins\"\necho -e \"\\n\"\n\n# è·å–å·²æœ‰çš„pluginçš„é•¿åº¦\noriLength=${#plugins}\n# echo \"åŸæ¥pluginså­—ç¬¦ä¸²é•¿åº¦æ˜¯ï¼š$oriLength\"\n# echo -e \"\\n\"\nreplaceIndex=$oriLength-1\n\n# åˆå¹¶ä¸ºæ–°çš„plugins\nreplacePlugins=${plugins:0:$replaceIndex}$newPlugins${plugins:$replaceIndex}\necho \"merged pluginsï¼š$replacePlugins\"\necho -e \"\\n\"\n\n# å°†æŸä¸ªæ–‡ä»¶ä¸­çš„å­—ç¬¦ä¸²æ›¿æ¢ä¸ºæ–°å­—ç¬¦ä¸² macç¯å¢ƒå’Œlinuxç¯å¢ƒ sed -i ä½¿ç”¨ä¸åŒ\n# Macä½¿ç”¨ï¼šhttps://www.cnblogs.com/chunzhulovefeiyue/p/6561497.html\n# Linuxä½¿ç”¨ï¼šhttps://www.cnblogs.com/A121/p/10621152.html\n\n# eg:æŠŠæ–‡ä»¶ä¸­çš„jackæ›¿æ¢æˆtomï¼Œå¹¶ç»™æºæ–‡ä»¶æ·»åŠ .backupåç¼€å¹¶å¤‡ä»½ï¼›æ·»åŠ /gæ˜¯å…¨éƒ¨æ›¿æ¢ï¼Œé»˜è®¤æ¯è¡Œåªæ›¿æ¢ä¸€æ¬¡ã€‚\n# sed -i \".backup\" 's/jack/tom/g' $file_zshrc\n\nsed -i \".backup\" \"s/$plugins/$replacePlugins/\" $file_zshrc\n\ntotalPlugins=`grep \"^plugin.*)$\" $file_zshrc`\necho \"total end plugin: $totalPlugins\"\necho -e \"\\n\"\n\n# æ›´æ–° .zshrc æ–‡ä»¶\nsource $file_zshrc\n\n# è¾“å‡ºè„šæœ¬æ‰§è¡Œç”¨æ—¶\necho -e \"\\n\"\necho -e \"\\033[32;40m this shell script execution duration(è„šæœ¬æ‰§è¡Œæ—¶é•¿): ${SECONDS}s  \\033[0m\"\n\n```",
      "data": {
        "title": "ä¸€é”®å®‰è£…ohmyzshå¸¸ç”¨æ’ä»¶çš„è„šæœ¬",
        "date": "2021-11-29 14:02:45",
        "tags": [
          "Linux",
          "shell"
        ],
        "published": true,
        "hideInList": false,
        "feature": "/post-images/yi-jian-an-zhuang-ohmyzsh-cha-jian-de-jiao-ben.png",
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "yi-jian-an-zhuang-ohmyzsh-cha-jian-de-jiao-ben"
    },
    {
      "content": "# ybproxy-auto-request\n\n[GitHub åœ°å€ï¼šhttps://github.com/wangyingbo/ybproxy-auto-request](https://github.com/wangyingbo/ybproxy-auto-request)\n\n## è„šæœ¬ä½œç”¨\n\n- åˆ©ç”¨github actions è‡ªåŠ¨è®¿é—®è¯·æ±‚herokuappå’Œnetlifyå…è´¹æœåŠ¡å™¨çš„ç½‘å€ï¼›å®ç°herokuappå’Œnetlifyå…è´¹è´¦å·èƒ½ä¸€ç›´ä¿æ´»ã€‚\n- ä¼šæŠŠæ›´æ–°æ—¶é—´æ’å…¥åˆ°recordtime.txtæ–‡ä»¶é‡Œï¼Œæ ¹æ®æœ€æ–°æ—¶é—´å€’åºæ’åˆ—ï¼›\n\n## ä½¿ç”¨\n\nå¦‚æœä½ æœ‰ä¸€å°Linuxä¸»æœºï¼Œæˆ–è€…ä½ æœ‰ä¸€å°ä¸ç»å¸¸å…³æœºçš„Macï¼Œé‚£ä¹ˆä½ å¯ä»¥åˆ©ç”¨ç³»ç»Ÿè‡ªå¸¦çš„`crontab`å®šæ—¶ä»»åŠ¡å‘½ä»¤æ¥æ‰§è¡Œå®šæ—¶ä»»åŠ¡ã€‚\n\nåœ¨ç»ˆç«¯è¾“å…¥`crontab -e` å‘½ä»¤ï¼Œå¯ä»¥è¿›å…¥crontabå®šæ—¶ä»»åŠ¡ç¼–è¾‘é¡µï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ–‡æœ¬é‡Œåˆ©ç”¨vimæ·»åŠ ä¸€æ¡å®šæ—¶ä»»åŠ¡`crontab.sh`ï¼Œæ·»åŠ å®Œæ¯•ç”¨`wq`ä¿å­˜é€€å‡ºï¼›\n\n![](https://hiwyb.github.io/post-images/1637566962477.png)\n\næ·»åŠ æˆåŠŸä»¥åï¼Œå¯åˆ©ç”¨`crontab -l`å‘½ä»¤æŸ¥çœ‹æ·»åŠ çš„ä»»åŠ¡ï¼›\n\n![](https://hiwyb.github.io/post-images/1637566978330.png)\n\næ·»åŠ æˆåŠŸä»¥åï¼Œéœ€è¦é‡å¯cronè¿›ç¨‹ï¼š\n\n```\nservice crond restart\n```\n\nå¯æŸ¥çœ‹crontabçš„æ‰§è¡Œæ—¥å¿—ï¼š\n\n```\ncat /var/log/cron\n\n```\n\n## crontab.shè„šæœ¬å¦‚ä¸‹ï¼š\n\n```\n#!/bin/bash\n# author wangyingbo\n\ncd /root/Desktop/Projects/ybproxy-auto-request\ngit pull --rebase\nDATE=`date +%Y%m%d%H%M%S`\necho \"current git push time: $DATE\"\n# æ’å…¥åˆ°æœ€åä¸€è¡Œ\n# echo $DATE >> ./recordtime.txt\n# æ’å…¥åˆ°ç¬¬ä¸€è¡Œ\nsed -i \"1i$DATE\" ./recordtime.txt\ngit add recordtime.txt\ngit commit --allow-empty -m \" update auto request ybproxy\"\ngit push \nsleep 1\necho -e \"\\033[33;40m  ($0) ${TIME}: this shell script execution duration: ${SECONDS}s  \\033[0m\"\necho \"ğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜Šsuccess excute shellğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜Š\"\n\n```",
      "data": {
        "title": "åˆ©ç”¨crontabå®šæ—¶è¯·æ±‚ç½‘ç«™",
        "date": "2021-11-22 15:36:08",
        "tags": [
          "GitHub"
        ],
        "published": true,
        "hideInList": false,
        "feature": "/post-images/li-yong-crontab-ding-shi-qing-qiu-wang-zhan.png",
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "li-yong-crontab-ding-shi-qing-qiu-wang-zhan"
    },
    {
      "content": "# auto-green\n\n\nè‡ªåŠ¨ä¿æŒ GitHub æäº¤çŠ¶æ€å¸¸ç»¿ã€‚\n\n> a commit a day keeps your girlfriend away.\n\n\n## GitHubåœ°å€: [https://github.com/wangyingbo/yb-auto-green](https://github.com/wangyingbo/yb-auto-green) \n\n## åŸç†\n\nä½¿ç”¨ GitHub Actions çš„å®šæ—¶ä»»åŠ¡åŠŸèƒ½ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´è‡ªåŠ¨æ‰§è¡Œ `git commit`ï¼Œæäº¤ä¿¡æ¯ä¸º \"a commit a day keeps your girlfriend away\"ï¼Œçµæ„Ÿæ¥è‡ªçŸ¥ä¹é—®é¢˜[åœ¨ GitHub ä¸Šä¿æŒ 365 å¤©å…¨ç»¿æ˜¯æ€æ ·ä¸€ç§ä½“éªŒï¼Ÿ](https://www.zhihu.com/question/34043434/answer/57826281)ä¸‹æŸåŒ¿åç”¨æˆ·çš„å›ç­”ï¼š\n\n> æ›¾ç»ä¿æŒäº† 200 å¤šå¤©å…¨ç»¿ï¼Œä½†æ˜¯å†·è½äº†å¥³æœ‹å‹ï¼Œä¸€ç›´ç»¿åˆ°ç°åœ¨ã€‚\n\n## ä½¿ç”¨\n\n- ç‚¹å³ä¸Šè§’ **Use this template** æŒ‰é’®å¤åˆ¶æœ¬ GitHub ä»“åº“ï¼Œ**:warning: åƒä¸‡ä¸è¦ Forkï¼Œå› ä¸º fork é¡¹ç›®çš„åŠ¨æ€å¹¶ä¸ä¼šè®©ä½ å˜ç»¿ :warning:**\n- ä¿®æ”¹ [ci.yml æ–‡ä»¶çš„ç¬¬ 19ã€20 è¡Œ](https://github.com/justjavac/auto-green/blob/master/.github/workflows/ci.yml#L19) ä¸ºè‡ªå·±çš„ GitHub è´¦å·å’Œæ˜µç§°\n- (å¯é€‰) ä½ å¯ä»¥é€šè¿‡ä¿®æ”¹ [ci.yml æ–‡ä»¶çš„ç¬¬ 8 è¡Œ](https://github.com/justjavac/auto-green/blob/master/.github/workflows/ci.yml#L8)æ¥è°ƒæ•´é¢‘ç‡\n\nè®¡åˆ’ä»»åŠ¡è¯­æ³•æœ‰ 5 ä¸ªå­—æ®µï¼Œä¸­é—´ç”¨ç©ºæ ¼åˆ†éš”ï¼Œæ¯ä¸ªå­—æ®µä»£è¡¨ä¸€ä¸ªæ—¶é—´å•ä½ã€‚\n\n```plain\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ†é’Ÿ (0 - 59)\nâ”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å°æ—¶ (0 - 23)\nâ”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¥ (1 - 31)\nâ”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æœˆ (1 - 12 æˆ– JAN-DEC)\nâ”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ˜ŸæœŸ (0 - 6 æˆ– SUN-SAT)\nâ”‚ â”‚ â”‚ â”‚ â”‚\nâ”‚ â”‚ â”‚ â”‚ â”‚\nâ”‚ â”‚ â”‚ â”‚ â”‚\n* * * * *\n```\n\næ¯ä¸ªæ—¶é—´å­—æ®µçš„å«ä¹‰ï¼š\n\n|ç¬¦å·   | æè¿°        | ä¸¾ä¾‹                                        |\n| ----- | -----------| -------------------------------------------|\n| `*`   | ä»»æ„å€¼      | `* * * * *` æ¯å¤©æ¯å°æ—¶æ¯åˆ†é’Ÿ                  |\n| `,`   | å€¼åˆ†éš”ç¬¦    | `1,3,4,7 * * * *` æ¯å°æ—¶çš„ 1 3 4 7 åˆ†é’Ÿ       |\n| `-`   | èŒƒå›´       | `1-6 * * * *` æ¯å°æ—¶çš„ 1-6 åˆ†é’Ÿ               |\n| `/`   | æ¯         | `*/15 * * * *` æ¯éš” 15 åˆ†é’Ÿ                  |\n\n**æ³¨**ï¼šç”±äº GitHub Actions çš„é™åˆ¶ï¼Œå¦‚æœè®¾ç½®ä¸º `* * * * *` å®é™…çš„æ‰§è¡Œé¢‘ç‡ä¸ºæ¯ 5 åˆ†æ‰§è¡Œä¸€æ¬¡ã€‚\n\n## è‡ªåŠ¨æ‰§è¡Œcrontab.shé…ç½®\n\n```\n#!/bin/bash\n# author wangyingbo\n\necho \"--------current path:-------\"\necho $PWD\ncd $PWD\n\ngit pull --rebase\ngit commit --allow-empty -m \"a commit a day keeps your girlfriend away\"\ngit push\n\nsleep 1\necho -e \"\\033[33;40m  ($0) ${TIME}: this shell script execution duration: ${SECONDS}s  \\033[0m\"\necho \"ğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜Šsuccess excute shellğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜Š\"\n```\n\n\n\n",
      "data": {
        "title": "ä¿æŒGitHub å¸¸ç»¿",
        "date": "2021-11-22 15:18:00",
        "tags": [
          "GitHub"
        ],
        "published": true,
        "hideInList": false,
        "feature": "/post-images/bao-chi-github-chang-lu.png",
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "bao-chi-github-chang-lu"
    },
    {
      "content": "\n\n\n> è½¬è‡ªï¼šå¼€æºLinux ä½œè€…ï¼šAå“¥ ï¼ˆä¾µåˆ ï¼‰\n> åŸæ–‡é“¾æ¥ï¼š[https://www.pythondesign.cn/994.html](https://www.pythondesign.cn/994.html)\n\n### åŠŸèƒ½\n\né€šè¿‡crontab å®šæ—¶ä»»åŠ¡ï¼Œå¯è®¾ç½®æ¯æ—¥å®šæ—¶æ‰§è¡Œè„šæœ¬ï¼Œåˆ†æä¸»æœºæ€§èƒ½ã€ç½‘ç»œç­‰ä½¿ç”¨æƒ…å†µï¼Œå¹¶æŠŠç»“æœé€šè¿‡é‚®ç®±çš„å½¢å¼å‘é€å‡ºå»ã€‚\n\n### è¯´æ˜\n\næ­¤è„šæœ¬æ˜¯å¤‡ä»½è‡ªè¿ç»´å¤§ä½¬ [Aå“¥](https://www.pythondesign.cn/994.html)ã€‚\n\n```\n#!/bin/bash\n# @Author: HanWei\n# @Date:   2020-03-16 09:56:57\n# @Last Modified by:   HanWei\n# @Last Modified time: 2020-03-16 11:06:31\n# @E-mail: han_wei_95@163.com\n#!/bin/bash\n# ä¸»æœºä¿¡æ¯æ¯æ—¥å·¡æ£€ https://zhuanlan.zhihu.com/p/429238956\n \nIPADDR=$(ifconfig eth0|grep 'inet addr'|awk -F '[ :]' '{print $13}')\n#ç¯å¢ƒå˜é‡PATHæ²¡è®¾å¥½ï¼Œåœ¨croné‡Œæ‰§è¡Œæ—¶æœ‰å¾ˆå¤šå‘½ä»¤ä¼šæ‰¾ä¸åˆ°\nexport PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin\nsource /etc/profile\n \n[ $(id -u) -gt 0 ] && echo \"è¯·ç”¨rootç”¨æˆ·æ‰§è¡Œæ­¤è„šæœ¬ï¼\" && exit 1\ncentosVersion=$(awk '{print $(NF-1)}' /etc/redhat-release)\nVERSION=\"2020-03-16\"\n \n#æ—¥å¿—ç›¸å…³\nPROGPATH=`echo $0 | sed -e 's,[\\\\/][^\\\\/][^\\\\/]*$,,'`\n[ -f $PROGPATH ] && PROGPATH=\".\"\nLOGPATH=\"$PROGPATH/log\"\n[ -e $LOGPATH ] || mkdir $LOGPATH\nRESULTFILE=\"$LOGPATH/HostDailyCheck-$IPADDR-`date +%Y%m%d`.txt\"\n \n \n#å®šä¹‰æŠ¥è¡¨çš„å…¨å±€å˜é‡\nreport_DateTime=\"\" #æ—¥æœŸ ok\nreport_Hostname=\"\" #ä¸»æœºå ok\nreport_OSRelease=\"\" #å‘è¡Œç‰ˆæœ¬ ok\nreport_Kernel=\"\" #å†…æ ¸ ok\nreport_Language=\"\" #è¯­è¨€/ç¼–ç  ok\nreport_LastReboot=\"\" #æœ€è¿‘å¯åŠ¨æ—¶é—´ ok\nreport_Uptime=\"\" #è¿è¡Œæ—¶é—´ï¼ˆå¤©ï¼‰ ok\nreport_CPUs=\"\" #CPUæ•°é‡ ok\nreport_CPUType=\"\" #CPUç±»å‹ ok\nreport_Arch=\"\" #CPUæ¶æ„ ok\nreport_MemTotal=\"\" #å†…å­˜æ€»å®¹é‡(MB) ok\nreport_MemFree=\"\" #å†…å­˜å‰©ä½™(MB) ok\nreport_MemUsedPercent=\"\" #å†…å­˜ä½¿ç”¨ç‡% ok\nreport_DiskTotal=\"\" #ç¡¬ç›˜æ€»å®¹é‡(GB) ok\nreport_DiskFree=\"\" #ç¡¬ç›˜å‰©ä½™(GB) ok\nreport_DiskUsedPercent=\"\" #ç¡¬ç›˜ä½¿ç”¨ç‡% ok\nreport_InodeTotal=\"\" #Inodeæ€»é‡ ok\nreport_InodeFree=\"\" #Inodeå‰©ä½™ ok\nreport_InodeUsedPercent=\"\" #Inodeä½¿ç”¨ç‡ ok\nreport_IP=\"\" #IPåœ°å€ ok\nreport_MAC=\"\" #MACåœ°å€ ok\nreport_Gateway=\"\" #é»˜è®¤ç½‘å…³ ok\nreport_DNS=\"\" #DNS ok\nreport_Listen=\"\" #ç›‘å¬ ok\nreport_Selinux=\"\" #Selinux ok\nreport_Firewall=\"\" #é˜²ç«å¢™ ok\nreport_USERs=\"\" #ç”¨æˆ· ok\nreport_USEREmptyPassword=\"\" #ç©ºå¯†ç ç”¨æˆ· ok\nreport_USERTheSameUID=\"\" #ç›¸åŒIDçš„ç”¨æˆ· ok \nreport_PasswordExpiry=\"\" #å¯†ç è¿‡æœŸï¼ˆå¤©ï¼‰ ok\nreport_RootUser=\"\" #rootç”¨æˆ· ok\nreport_Sudoers=\"\" #sudoæˆæƒ ok\nreport_SSHAuthorized=\"\" #SSHä¿¡ä»»ä¸»æœº ok\nreport_SSHDProtocolVersion=\"\" #SSHåè®®ç‰ˆæœ¬ ok\nreport_SSHDPermitRootLogin=\"\" #å…è®¸rootè¿œç¨‹ç™»å½• ok\nreport_DefunctProsess=\"\" #åƒµå°¸è¿›ç¨‹æ•°é‡ ok\nreport_SelfInitiatedService=\"\" #è‡ªå¯åŠ¨æœåŠ¡æ•°é‡ ok\nreport_SelfInitiatedProgram=\"\" #è‡ªå¯åŠ¨ç¨‹åºæ•°é‡ ok\nreport_RuningService=\"\" #è¿è¡Œä¸­æœåŠ¡æ•° ok\nreport_Crontab=\"\" #è®¡åˆ’ä»»åŠ¡æ•° ok\nreport_Syslog=\"\" #æ—¥å¿—æœåŠ¡ ok\nreport_SNMP=\"\" #SNMP OK\nreport_NTP=\"\" #NTP ok\nreport_JDK=\"\" #JDKç‰ˆæœ¬ ok\nfunction version(){\necho \"\"\necho \"\"\necho \"ç³»ç»Ÿå·¡æ£€è„šæœ¬ï¼šVersion $VERSION\"\n}\n \nfunction getCpuStatus(){\necho \"\"\necho \"\"\necho \"############################ CPUæ£€æŸ¥ #############################\"\nPhysical_CPUs=$(grep \"physical id\" /proc/cpuinfo| sort | uniq | wc -l)\nVirt_CPUs=$(grep \"processor\" /proc/cpuinfo | wc -l)\nCPU_Kernels=$(grep \"cores\" /proc/cpuinfo|uniq| awk -F ': ' '{print $2}')\nCPU_Type=$(grep \"model name\" /proc/cpuinfo | awk -F ': ' '{print $2}' | sort | uniq)\nCPU_Arch=$(uname -m)\necho \"ç‰©ç†CPUä¸ªæ•°:$Physical_CPUs\"\necho \"é€»è¾‘CPUä¸ªæ•°:$Virt_CPUs\"\necho \"æ¯CPUæ ¸å¿ƒæ•°:$CPU_Kernels\"\necho \" CPUå‹å·:$CPU_Type\"\necho \" CPUæ¶æ„:$CPU_Arch\"\n#æŠ¥è¡¨ä¿¡æ¯\nreport_CPUs=$Virt_CPUs #CPUæ•°é‡\nreport_CPUType=$CPU_Type #CPUç±»å‹\nreport_Arch=$CPU_Arch #CPUæ¶æ„\n}\n \nfunction getMemStatus(){\necho \"\"\necho \"\"\necho \"############################ å†…å­˜æ£€æŸ¥ ############################\"\nif [[ $centosVersion < 7 ]];then\nfree -mo\nelse\nfree -h\nfi\n#æŠ¥è¡¨ä¿¡æ¯\nMemTotal=$(grep MemTotal /proc/meminfo| awk '{print $2}') #KB\nMemFree=$(grep MemFree /proc/meminfo| awk '{print $2}') #KB\nlet MemUsed=MemTotal-MemFree\nMemPercent=$(awk \"BEGIN {if($MemTotal==0){printf 100}else{printf \\\"%.2f\\\",$MemUsed*100/$MemTotal}}\")\nreport_MemTotal=\"$((MemTotal/1024))\"\"MB\" #å†…å­˜æ€»å®¹é‡(MB)\nreport_MemFree=\"$((MemFree/1024))\"\"MB\" #å†…å­˜å‰©ä½™(MB)\nreport_MemUsedPercent=\"$(awk \"BEGIN {if($MemTotal==0){printf 100}else{printf \\\"%.2f\\\",$MemUsed*100/$MemTotal}}\")\"\"%\" #å†…å­˜ä½¿ç”¨ç‡%\n}\nfunction getDiskStatus(){\necho \"\"\necho \"\"\necho \"############################ ç£ç›˜æ£€æŸ¥ ############################\"\ndf -hiP | sed 's/Mounted on/Mounted/'> /tmp/inode\ndf -hTP | sed 's/Mounted on/Mounted/'> /tmp/disk \njoin /tmp/disk /tmp/inode | awk '{print $1,$2,\"|\",$3,$4,$5,$6,\"|\",$8,$9,$10,$11,\"|\",$12}'| column -t\n#æŠ¥è¡¨ä¿¡æ¯\ndiskdata=$(df -TP | sed '1d' | awk '$2!=\"tmpfs\"{print}') #KB\ndisktotal=$(echo \"$diskdata\" | awk '{total+=$3}END{print total}') #KB\ndiskused=$(echo \"$diskdata\" | awk '{total+=$4}END{print total}') #KB\ndiskfree=$((disktotal-diskused)) #KB\ndiskusedpercent=$(echo $disktotal $diskused | awk '{if($1==0){printf 100}else{printf \"%.2f\",$2*100/$1}}') \ninodedata=$(df -iTP | sed '1d' | awk '$2!=\"tmpfs\"{print}')\ninodetotal=$(echo \"$inodedata\" | awk '{total+=$3}END{print total}')\ninodeused=$(echo \"$inodedata\" | awk '{total+=$4}END{print total}')\ninodefree=$((inodetotal-inodeused))\ninodeusedpercent=$(echo $inodetotal $inodeused | awk '{if($1==0){printf 100}else{printf \"%.2f\",$2*100/$1}}')\nreport_DiskTotal=$((disktotal/1024/1024))\"GB\" #ç¡¬ç›˜æ€»å®¹é‡(GB)\nreport_DiskFree=$((diskfree/1024/1024))\"GB\" #ç¡¬ç›˜å‰©ä½™(GB)\nreport_DiskUsedPercent=\"$diskusedpercent\"\"%\" #ç¡¬ç›˜ä½¿ç”¨ç‡%\nreport_InodeTotal=$((inodetotal/1000))\"K\" #Inodeæ€»é‡\nreport_InodeFree=$((inodefree/1000))\"K\" #Inodeå‰©ä½™\nreport_InodeUsedPercent=\"$inodeusedpercent\"\"%\" #Inodeä½¿ç”¨ç‡%\n \n}\n \nfunction getSystemStatus(){\necho \"\"\necho \"\"\necho \"############################ ç³»ç»Ÿæ£€æŸ¥ ############################\"\nif [ -e /etc/sysconfig/i18n ];then\ndefault_LANG=\"$(grep \"LANG=\" /etc/sysconfig/i18n | grep -v \"^#\" | awk -F '\"' '{print $2}')\"\nelse\ndefault_LANG=$LANG\nfi\nexport LANG=\"en_US.UTF-8\"\nRelease=$(cat /etc/redhat-release 2>/dev/null)\nKernel=$(uname -r)\nOS=$(uname -o)\nHostname=$(uname -n)\nSELinux=$(/usr/sbin/sestatus | grep \"SELinux status: \" | awk '{print $3}')\nLastReboot=$(who -b | awk '{print $3,$4}')\nuptime=$(uptime | sed 's/.*up \\([^,]*\\), .*/\\1/')\necho \" ç³»ç»Ÿï¼š$OS\"\necho \" å‘è¡Œç‰ˆæœ¬ï¼š$Release\"\necho \" å†…æ ¸ï¼š$Kernel\"\necho \" ä¸»æœºåï¼š$Hostname\"\necho \" SELinuxï¼š$SELinux\"\necho \"è¯­è¨€/ç¼–ç ï¼š$default_LANG\"\necho \" å½“å‰æ—¶é—´ï¼š$(date +'%F %T')\"\necho \" æœ€åå¯åŠ¨ï¼š$LastReboot\"\necho \" è¿è¡Œæ—¶é—´ï¼š$uptime\"\n#æŠ¥è¡¨ä¿¡æ¯\nreport_DateTime=$(date +\"%F %T\") #æ—¥æœŸ\nreport_Hostname=\"$Hostname\" #ä¸»æœºå\nreport_OSRelease=\"$Release\" #å‘è¡Œç‰ˆæœ¬\nreport_Kernel=\"$Kernel\" #å†…æ ¸\nreport_Language=\"$default_LANG\" #è¯­è¨€/ç¼–ç \nreport_LastReboot=\"$LastReboot\" #æœ€è¿‘å¯åŠ¨æ—¶é—´\nreport_Uptime=\"$uptime\" #è¿è¡Œæ—¶é—´ï¼ˆå¤©ï¼‰\nreport_Selinux=\"$SELinux\"\nexport LANG=\"$default_LANG\"\n \n}\n \nfunction getServiceStatus(){\necho \"\"\necho \"\"\necho \"############################ æœåŠ¡æ£€æŸ¥ ############################\"\necho \"\"\nif [[ $centosVersion > 7 ]];then\nconf=$(systemctl list-unit-files --type=service --state=enabled --no-pager | grep \"enabled\")\nprocess=$(systemctl list-units --type=service --state=running --no-pager | grep \".service\")\n#æŠ¥è¡¨ä¿¡æ¯\nreport_SelfInitiatedService=\"$(echo \"$conf\" | wc -l)\" #è‡ªå¯åŠ¨æœåŠ¡æ•°é‡\nreport_RuningService=\"$(echo \"$process\" | wc -l)\" #è¿è¡Œä¸­æœåŠ¡æ•°é‡\nelse\nconf=$(/sbin/chkconfig | grep -E \":on|:å¯ç”¨\")\nprocess=$(/sbin/service --status-all 2>/dev/null | grep -E \"is running|æ­£åœ¨è¿è¡Œ\")\n#æŠ¥è¡¨ä¿¡æ¯\nreport_SelfInitiatedService=\"$(echo \"$conf\" | wc -l)\" #è‡ªå¯åŠ¨æœåŠ¡æ•°é‡\nreport_RuningService=\"$(echo \"$process\" | wc -l)\" #è¿è¡Œä¸­æœåŠ¡æ•°é‡\nfi\necho \"æœåŠ¡é…ç½®\"\necho \"--------\"\necho \"$conf\" | column -t\necho \"\"\necho \"æ­£åœ¨è¿è¡Œçš„æœåŠ¡\"\necho \"--------------\"\necho \"$process\"\n \n}\n \n \nfunction getAutoStartStatus(){\necho \"\"\necho \"\"\necho \"############################ è‡ªå¯åŠ¨æ£€æŸ¥ ##########################\"\nconf=$(grep -v \"^#\" /etc/rc.d/rc.local| sed '/^$/d')\necho \"$conf\"\n#æŠ¥è¡¨ä¿¡æ¯\nreport_SelfInitiatedProgram=\"$(echo $conf | wc -l)\" #è‡ªå¯åŠ¨ç¨‹åºæ•°é‡\n}\n \nfunction getLoginStatus(){\necho \"\"\necho \"\"\necho \"############################ ç™»å½•æ£€æŸ¥ ############################\"\nlast | head\n}\n \nfunction getNetworkStatus(){\necho \"\"\necho \"\"\necho \"############################ ç½‘ç»œæ£€æŸ¥ ############################\"\nif [[ $centosVersion < 7 ]];then\n/sbin/ifconfig -a | grep -v packets | grep -v collisions | grep -v inet6\nelse\n#ip a\nfor i in $(ip link | grep BROADCAST | awk -F: '{print $2}');do ip add show $i | grep -E \"BROADCAST|global\"| awk '{print $2}' | tr '\\n' ' ' ;echo \"\" ;done\nfi\nGATEWAY=$(ip route | grep default | awk '{print $3}')\nDNS=$(grep nameserver /etc/resolv.conf| grep -v \"#\" | awk '{print $2}' | tr '\\n' ',' | sed 's/,$//')\necho \"\"\necho \"ç½‘å…³ï¼š$GATEWAY \"\necho \" DNSï¼š$DNS\"\n#æŠ¥è¡¨ä¿¡æ¯\nIP=$(ip -f inet addr | grep -v 127.0.0.1 | grep inet | awk '{print $NF,$2}' | tr '\\n' ',' | sed 's/,$//')\nMAC=$(ip link | grep -v \"LOOPBACK\\|loopback\" | awk '{print $2}' | sed 'N;s/\\n//' | tr '\\n' ',' | sed 's/,$//')\nreport_IP=\"$IP\" #IPåœ°å€\nreport_MAC=$MAC #MACåœ°å€\nreport_Gateway=\"$GATEWAY\" #é»˜è®¤ç½‘å…³\nreport_DNS=\"$DNS\" #DNS\n}\n \nfunction getListenStatus(){\necho \"\"\necho \"\"\necho \"############################ ç›‘å¬æ£€æŸ¥ ############################\"\nTCPListen=$(ss -ntul | column -t)\necho \"$TCPListen\"\n#æŠ¥è¡¨ä¿¡æ¯\nreport_Listen=\"$(echo \"$TCPListen\"| sed '1d' | awk '/tcp/ {print $5}' | awk -F: '{print $NF}' | sort | uniq | wc -l)\"\n}\n \nfunction getCronStatus(){\necho \"\"\necho \"\"\necho \"############################ è®¡åˆ’ä»»åŠ¡æ£€æŸ¥ ########################\"\nCrontab=0\nfor shell in $(grep -v \"/sbin/nologin\" /etc/shells);do\nfor user in $(grep \"$shell\" /etc/passwd| awk -F: '{print $1}');do\ncrontab -l -u $user >/dev/null 2>&1\nstatus=$?\nif [ $status -eq 0 ];then\necho \"$user\"\necho \"--------\"\ncrontab -l -u $user\nlet Crontab=Crontab+$(crontab -l -u $user | wc -l)\necho \"\"\nfi\ndone\ndone\n#è®¡åˆ’ä»»åŠ¡\nfind /etc/cron* -type f | xargs -i ls -l {} | column -t\nlet Crontab=Crontab+$(find /etc/cron* -type f | wc -l)\n#æŠ¥è¡¨ä¿¡æ¯\nreport_Crontab=\"$Crontab\" #è®¡åˆ’ä»»åŠ¡æ•°\n}\nfunction getHowLongAgo(){\n# è®¡ç®—ä¸€ä¸ªæ—¶é—´æˆ³ç¦»ç°åœ¨æœ‰å¤šä¹…äº†\ndatetime=\"$*\"\n[ -z \"$datetime\" ] && echo \"é”™è¯¯çš„å‚æ•°ï¼šgetHowLongAgo() $*\"\nTimestamp=$(date +%s -d \"$datetime\") #è½¬åŒ–ä¸ºæ—¶é—´æˆ³\nNow_Timestamp=$(date +%s)\nDifference_Timestamp=$(($Now_Timestamp-$Timestamp))\ndays=0;hours=0;minutes=0;\nsec_in_day=$((60*60*24));\nsec_in_hour=$((60*60));\nsec_in_minute=60\nwhile (( $(($Difference_Timestamp-$sec_in_day)) > 1 ))\ndo\nlet Difference_Timestamp=Difference_Timestamp-sec_in_day\nlet days++\ndone\nwhile (( $(($Difference_Timestamp-$sec_in_hour)) > 1 ))\ndo\nlet Difference_Timestamp=Difference_Timestamp-sec_in_hour\nlet hours++\ndone\necho \"$days å¤© $hours å°æ—¶å‰\"\n}\n \nfunction getUserLastLogin(){\n# è·å–ç”¨æˆ·æœ€è¿‘ä¸€æ¬¡ç™»å½•çš„æ—¶é—´ï¼Œå«å¹´ä»½\n# å¾ˆé—æ†¾lastå‘½ä»¤ä¸æ”¯æŒæ˜¾ç¤ºå¹´ä»½ï¼Œåªæœ‰\"last -t YYYYMMDDHHMMSS\"è¡¨ç¤ºæŸä¸ªæ—¶é—´ä¹‹é—´çš„ç™»å½•ï¼Œæˆ‘\n# ä»¬åªèƒ½ç”¨æœ€ç¬¨çš„æ–¹æ³•äº†ï¼Œå¯¹æ¯”ä»Šå¤©ä¹‹å‰å’Œä»Šå¹´å…ƒæ—¦ä¹‹å‰ï¼ˆæˆ–è€…å»å¹´ä¹‹å‰å’Œå‰å¹´ä¹‹å‰â€¦â€¦ï¼‰æŸä¸ªç”¨æˆ·\n# ç™»å½•æ¬¡æ•°ï¼Œå¦‚æœç™»å½•ç»Ÿè®¡æ¬¡æ•°æœ‰å˜åŒ–ï¼Œåˆ™è¯´æ˜æœ€è¿‘ä¸€æ¬¡ç™»å½•æ˜¯ä»Šå¹´ã€‚\nusername=$1\n: ${username:=\"`whoami`\"}\nthisYear=$(date +%Y)\noldesYear=$(last | tail -n1 | awk '{print $NF}')\nwhile(( $thisYear >= $oldesYear));do\nloginBeforeToday=$(last $username | grep $username | wc -l)\nloginBeforeNewYearsDayOfThisYear=$(last $username -t $thisYear\"0101000000\" | grep $username | wc -l)\nif [ $loginBeforeToday -eq 0 ];then\necho \"ä»æœªç™»å½•è¿‡\"\nbreak\nelif [ $loginBeforeToday -gt $loginBeforeNewYearsDayOfThisYear ];then\nlastDateTime=$(last -i $username | head -n1 | awk '{for(i=4;i<(NF-2);i++)printf\"%s \",$i}')\" $thisYear\" #æ ¼å¼å¦‚: Sat Nov 2 20:33 2015\nlastDateTime=$(date \"+%Y-%m-%d %H:%M:%S\" -d \"$lastDateTime\")\necho \"$lastDateTime\"\nbreak\nelse\nthisYear=$((thisYear-1))\nfi\ndone\n \n}\n \nfunction getUserStatus(){\necho \"\"\necho \"\"\necho \"############################ ç”¨æˆ·æ£€æŸ¥ ############################\"\n#/etc/passwd æœ€åä¿®æ”¹æ—¶é—´\npwdfile=\"$(cat /etc/passwd)\"\nModify=$(stat /etc/passwd | grep Modify | tr '.' ' ' | awk '{print $2,$3}')\n \necho \"/etc/passwd æœ€åä¿®æ”¹æ—¶é—´ï¼š$Modify ($(getHowLongAgo $Modify))\"\necho \"\"\necho \"ç‰¹æƒç”¨æˆ·\"\necho \"--------\"\nRootUser=\"\"\nfor user in $(echo \"$pwdfile\" | awk -F: '{print $1}');do\nif [ $(id -u $user) -eq 0 ];then\necho \"$user\"\nRootUser=\"$RootUser,$user\"\nfi\ndone\necho \"\"\necho \"ç”¨æˆ·åˆ—è¡¨\"\necho \"--------\"\nUSERs=0\necho \"$(\necho \"ç”¨æˆ·å UID GID HOME SHELL æœ€åä¸€æ¬¡ç™»å½•\"\nfor shell in $(grep -v \"/sbin/nologin\" /etc/shells);do\nfor username in $(grep \"$shell\" /etc/passwd| awk -F: '{print $1}');do\nuserLastLogin=\"$(getUserLastLogin $username)\"\necho \"$pwdfile\" | grep -w \"$username\" |grep -w \"$shell\"| awk -F: -v lastlogin=\"$(echo \"$userLastLogin\" | tr ' ' '_')\" '{print $1,$3,$4,$6,$7,lastlogin}'\ndone\nlet USERs=USERs+$(echo \"$pwdfile\" | grep \"$shell\"| wc -l)\ndone\n)\" | column -t\necho \"\"\necho \"ç©ºå¯†ç ç”¨æˆ·\"\necho \"----------\"\nUSEREmptyPassword=\"\"\nfor shell in $(grep -v \"/sbin/nologin\" /etc/shells);do\nfor user in $(echo \"$pwdfile\" | grep \"$shell\" | cut -d: -f1);do\nr=$(awk -F: '$2==\"!!\"{print $1}' /etc/shadow | grep -w $user)\nif [ ! -z $r ];then\necho $r\nUSEREmptyPassword=\"$USEREmptyPassword,\"$r\nfi\ndone \ndone\necho \"\"\necho \"ç›¸åŒIDçš„ç”¨æˆ·\"\necho \"------------\"\nUSERTheSameUID=\"\"\nUIDs=$(cut -d: -f3 /etc/passwd | sort | uniq -c | awk '$1>1{print $2}')\nfor uid in $UIDs;do\necho -n \"$uid\";\nUSERTheSameUID=\"$uid\"\nr=$(awk -F: 'ORS=\"\";$3=='\"$uid\"'{print \":\",$1}' /etc/passwd)\necho \"$r\"\necho \"\"\nUSERTheSameUID=\"$USERTheSameUID $r,\"\ndone\n#æŠ¥è¡¨ä¿¡æ¯\nreport_USERs=\"$USERs\" #ç”¨æˆ·\nreport_USEREmptyPassword=$(echo $USEREmptyPassword | sed 's/^,//') \nreport_USERTheSameUID=$(echo $USERTheSameUID | sed 's/,$//') \nreport_RootUser=$(echo $RootUser | sed 's/^,//') #ç‰¹æƒç”¨æˆ·\n}\n \n \nfunction getPasswordStatus {\necho \"\"\necho \"\"\necho \"############################ å¯†ç æ£€æŸ¥ ############################\"\npwdfile=\"$(cat /etc/passwd)\"\necho \"\"\necho \"å¯†ç è¿‡æœŸæ£€æŸ¥\"\necho \"------------\"\nresult=\"\"\nfor shell in $(grep -v \"/sbin/nologin\" /etc/shells);do\nfor user in $(echo \"$pwdfile\" | grep \"$shell\" | cut -d: -f1);do\nget_expiry_date=$(/usr/bin/chage -l $user | grep 'Password expires' | cut -d: -f2)\nif [[ $get_expiry_date = ' never' || $get_expiry_date = 'never' ]];then\nprintf \"%-15s æ°¸ä¸è¿‡æœŸ\\n\" $user\nresult=\"$result,$user:never\"\nelse\npassword_expiry_date=$(date -d \"$get_expiry_date\" \"+%s\")\ncurrent_date=$(date \"+%s\")\ndiff=$(($password_expiry_date-$current_date))\nlet DAYS=$(($diff/(60*60*24)))\nprintf \"%-15s %så¤©åè¿‡æœŸ\\n\" $user $DAYS\nresult=\"$result,$user:$DAYS days\"\nfi\ndone\ndone\nreport_PasswordExpiry=$(echo $result | sed 's/^,//')\n \necho \"\"\necho \"å¯†ç ç­–ç•¥æ£€æŸ¥\"\necho \"------------\"\ngrep -v \"#\" /etc/login.defs | grep -E \"PASS_MAX_DAYS|PASS_MIN_DAYS|PASS_MIN_LEN|PASS_WARN_AGE\"\n \n \n}\n \nfunction getSudoersStatus(){\necho \"\"\necho \"\"\necho \"############################ Sudoersæ£€æŸ¥ #########################\"\nconf=$(grep -v \"^#\" /etc/sudoers| grep -v \"^Defaults\" | sed '/^$/d')\necho \"$conf\"\necho \"\"\n#æŠ¥è¡¨ä¿¡æ¯\nreport_Sudoers=\"$(echo $conf | wc -l)\"\n}\n \nfunction getInstalledStatus(){\necho \"\"\necho \"\"\necho \"############################ è½¯ä»¶æ£€æŸ¥ ############################\"\nrpm -qa --last | head | column -t \n}\n \nfunction getProcessStatus(){\necho \"\"\necho \"\"\necho \"############################ è¿›ç¨‹æ£€æŸ¥ ############################\"\nif [ $(ps -ef | grep defunct | grep -v grep | wc -l) -ge 1 ];then\necho \"\"\necho \"åƒµå°¸è¿›ç¨‹\";\necho \"--------\"\nps -ef | head -n1\nps -ef | grep defunct | grep -v grep\nfi\necho \"\"\necho \"å†…å­˜å ç”¨TOP10\"\necho \"-------------\"\necho -e \"PID %MEM RSS COMMAND\n$(ps aux | awk '{print $2, $4, $6, $11}' | sort -k3rn | head -n 10 )\"| column -t \necho \"\"\necho \"CPUå ç”¨TOP10\"\necho \"------------\"\ntop b -n1 | head -17 | tail -11\n#æŠ¥è¡¨ä¿¡æ¯\nreport_DefunctProsess=\"$(ps -ef | grep defunct | grep -v grep|wc -l)\"\n}\n \nfunction getJDKStatus(){\necho \"\"\necho \"\"\necho \"############################ JDKæ£€æŸ¥ #############################\"\njava -version 2>/dev/null\nif [ $? -eq 0 ];then\njava -version 2>&1\nfi\necho \"JAVA_HOME=\\\"$JAVA_HOME\\\"\"\n#æŠ¥è¡¨ä¿¡æ¯\nreport_JDK=\"$(java -version 2>&1 | grep version | awk '{print $1,$3}' | tr -d '\"')\"\n}\nfunction getSyslogStatus(){\necho \"\"\necho \"\"\necho \"############################ syslogæ£€æŸ¥ ##########################\"\necho \"æœåŠ¡çŠ¶æ€ï¼š$(getState rsyslog)\"\necho \"\"\necho \"/etc/rsyslog.conf\"\necho \"-----------------\"\ncat /etc/rsyslog.conf 2>/dev/null | grep -v \"^#\" | grep -v \"^\\\\$\" | sed '/^$/d' | column -t\n#æŠ¥è¡¨ä¿¡æ¯\nreport_Syslog=\"$(getState rsyslog)\"\n}\nfunction getFirewallStatus(){\necho \"\"\necho \"\"\necho \"############################ é˜²ç«å¢™æ£€æŸ¥ ##########################\"\n#é˜²ç«å¢™çŠ¶æ€ï¼Œç­–ç•¥ç­‰\nif [[ $centosVersion < 7 ]];then\n/etc/init.d/iptables status >/dev/null 2>&1\nstatus=$?\nif [ $status -eq 0 ];then\ns=\"active\"\nelif [ $status -eq 3 ];then\ns=\"inactive\"\nelif [ $status -eq 4 ];then\ns=\"permission denied\"\nelse\ns=\"unknown\"\nfi\nelse\ns=\"$(getState iptables)\"\nfi\necho \"iptables: $s\"\necho \"\"\necho \"/etc/sysconfig/iptables\"\necho \"-----------------------\"\ncat /etc/sysconfig/iptables 2>/dev/null\n#æŠ¥è¡¨ä¿¡æ¯\nreport_Firewall=\"$s\"\n}\n \nfunction getSNMPStatus(){\n#SNMPæœåŠ¡çŠ¶æ€ï¼Œé…ç½®ç­‰\necho \"\"\necho \"\"\necho \"############################ SNMPæ£€æŸ¥ ############################\"\nstatus=\"$(getState snmpd)\"\necho \"æœåŠ¡çŠ¶æ€ï¼š$status\"\necho \"\"\nif [ -e /etc/snmp/snmpd.conf ];then\necho \"/etc/snmp/snmpd.conf\"\necho \"--------------------\"\ncat /etc/snmp/snmpd.conf 2>/dev/null | grep -v \"^#\" | sed '/^$/d'\nfi\n#æŠ¥è¡¨ä¿¡æ¯\nreport_SNMP=\"$(getState snmpd)\"\n}\n \n \n \nfunction getState(){\nif [[ $centosVersion < 7 ]];then\nif [ -e \"/etc/init.d/$1\" ];then\nif [ `/etc/init.d/$1 status 2>/dev/null | grep -E \"is running|æ­£åœ¨è¿è¡Œ\" | wc -l` -ge 1 ];then\nr=\"active\"\nelse\nr=\"inactive\"\nfi\nelse\nr=\"unknown\"\nfi\nelse\n#CentOS 7+\nr=\"$(systemctl is-active $1 2>&1)\"\nfi\necho \"$r\"\n}\n \nfunction getSSHStatus(){\n#SSHDæœåŠ¡çŠ¶æ€ï¼Œé…ç½®,å—ä¿¡ä»»ä¸»æœºç­‰\necho \"\"\necho \"\"\necho \"############################ SSHæ£€æŸ¥ #############################\"\n#æ£€æŸ¥å—ä¿¡ä»»ä¸»æœº\npwdfile=\"$(cat /etc/passwd)\"\necho \"æœåŠ¡çŠ¶æ€ï¼š$(getState sshd)\"\nProtocol_Version=$(cat /etc/ssh/sshd_config | grep Protocol | awk '{print $2}')\necho \"SSHåè®®ç‰ˆæœ¬ï¼š$Protocol_Version\"\necho \"\"\necho \"ä¿¡ä»»ä¸»æœº\"\necho \"--------\"\nauthorized=0\nfor user in $(echo \"$pwdfile\" | grep /bin/bash | awk -F: '{print $1}');do\nauthorize_file=$(echo \"$pwdfile\" | grep -w $user | awk -F: '{printf $6\"/.ssh/authorized_keys\"}')\nauthorized_host=$(cat $authorize_file 2>/dev/null | awk '{print $3}' | tr '\\n' ',' | sed 's/,$//')\nif [ ! -z $authorized_host ];then\necho \"$user æˆæƒ \\\"$authorized_host\\\" æ— å¯†ç è®¿é—®\"\nfi\nlet authorized=authorized+$(cat $authorize_file 2>/dev/null | awk '{print $3}'|wc -l)\ndone\n \necho \"\"\necho \"æ˜¯å¦å…è®¸ROOTè¿œç¨‹ç™»å½•\"\necho \"--------------------\"\nconfig=$(cat /etc/ssh/sshd_config | grep PermitRootLogin)\nfirstChar=${config:0:1}\nif [ $firstChar == \"#\" ];then\nPermitRootLogin=\"yes\" #é»˜è®¤æ˜¯å…è®¸ROOTè¿œç¨‹ç™»å½•çš„\nelse\nPermitRootLogin=$(echo $config | awk '{print $2}')\nfi\necho \"PermitRootLogin $PermitRootLogin\"\n \necho \"\"\necho \"/etc/ssh/sshd_config\"\necho \"--------------------\"\ncat /etc/ssh/sshd_config | grep -v \"^#\" | sed '/^$/d'\n \n#æŠ¥è¡¨ä¿¡æ¯\nreport_SSHAuthorized=\"$authorized\" #SSHä¿¡ä»»ä¸»æœº\nreport_SSHDProtocolVersion=\"$Protocol_Version\" #SSHåè®®ç‰ˆæœ¬\nreport_SSHDPermitRootLogin=\"$PermitRootLogin\" #å…è®¸rootè¿œç¨‹ç™»å½•\n}\nfunction getNTPStatus(){\n#NTPæœåŠ¡çŠ¶æ€ï¼Œå½“å‰æ—¶é—´ï¼Œé…ç½®ç­‰\necho \"\"\necho \"\"\necho \"############################ NTPæ£€æŸ¥ #############################\"\nif [ -e /etc/ntp.conf ];then\necho \"æœåŠ¡çŠ¶æ€ï¼š$(getState ntpd)\"\necho \"\"\necho \"/etc/ntp.conf\"\necho \"-------------\"\ncat /etc/ntp.conf 2>/dev/null | grep -v \"^#\" | sed '/^$/d'\nfi\n#æŠ¥è¡¨ä¿¡æ¯\nreport_NTP=\"$(getState ntpd)\"\n}\n \n \nfunction uploadHostDailyCheckReport(){\njson=\"{\n\\\"DateTime\\\":\\\"$report_DateTime\\\",\n\\\"Hostname\\\":\\\"$report_Hostname\\\",\n\\\"OSRelease\\\":\\\"$report_OSRelease\\\",\n\\\"Kernel\\\":\\\"$report_Kernel\\\",\n\\\"Language\\\":\\\"$report_Language\\\",\n\\\"LastReboot\\\":\\\"$report_LastReboot\\\",\n\\\"Uptime\\\":\\\"$report_Uptime\\\",\n\\\"CPUs\\\":\\\"$report_CPUs\\\",\n\\\"CPUType\\\":\\\"$report_CPUType\\\",\n\\\"Arch\\\":\\\"$report_Arch\\\",\n\\\"MemTotal\\\":\\\"$report_MemTotal\\\",\n\\\"MemFree\\\":\\\"$report_MemFree\\\",\n\\\"MemUsedPercent\\\":\\\"$report_MemUsedPercent\\\",\n\\\"DiskTotal\\\":\\\"$report_DiskTotal\\\",\n\\\"DiskFree\\\":\\\"$report_DiskFree\\\",\n\\\"DiskUsedPercent\\\":\\\"$report_DiskUsedPercent\\\",\n\\\"InodeTotal\\\":\\\"$report_InodeTotal\\\",\n\\\"InodeFree\\\":\\\"$report_InodeFree\\\",\n\\\"InodeUsedPercent\\\":\\\"$report_InodeUsedPercent\\\",\n\\\"IP\\\":\\\"$report_IP\\\",\n\\\"MAC\\\":\\\"$report_MAC\\\",\n\\\"Gateway\\\":\\\"$report_Gateway\\\",\n\\\"DNS\\\":\\\"$report_DNS\\\",\n\\\"Listen\\\":\\\"$report_Listen\\\",\n\\\"Selinux\\\":\\\"$report_Selinux\\\",\n\\\"Firewall\\\":\\\"$report_Firewall\\\",\n\\\"USERs\\\":\\\"$report_USERs\\\",\n\\\"USEREmptyPassword\\\":\\\"$report_USEREmptyPassword\\\",\n\\\"USERTheSameUID\\\":\\\"$report_USERTheSameUID\\\",\n\\\"PasswordExpiry\\\":\\\"$report_PasswordExpiry\\\",\n\\\"RootUser\\\":\\\"$report_RootUser\\\",\n\\\"Sudoers\\\":\\\"$report_Sudoers\\\",\n\\\"SSHAuthorized\\\":\\\"$report_SSHAuthorized\\\",\n\\\"SSHDProtocolVersion\\\":\\\"$report_SSHDProtocolVersion\\\",\n\\\"SSHDPermitRootLogin\\\":\\\"$report_SSHDPermitRootLogin\\\",\n\\\"DefunctProsess\\\":\\\"$report_DefunctProsess\\\",\n\\\"SelfInitiatedService\\\":\\\"$report_SelfInitiatedService\\\",\n\\\"SelfInitiatedProgram\\\":\\\"$report_SelfInitiatedProgram\\\",\n\\\"RuningService\\\":\\\"$report_RuningService\\\",\n\\\"Crontab\\\":\\\"$report_Crontab\\\",\n\\\"Syslog\\\":\\\"$report_Syslog\\\",\n\\\"SNMP\\\":\\\"$report_SNMP\\\",\n\\\"NTP\\\":\\\"$report_NTP\\\",\n\\\"JDK\\\":\\\"$report_JDK\\\"\n}\"\n#echo \"$json\" \ncurl -l -H \"Content-type: application/json\" -X POST -d \"$json\" \"$uploadHostDailyCheckReportApi\" 2>/dev/null\n}\n\nfunction getchage_file_24h()\n{\necho \"############################ æ–‡ä»¶æ£€æŸ¥ #############################\"\n    check2=$(find / -name '*.sh' -mtime -1)\ncheck21=$(find / -name '*.asp' -mtime -1)\ncheck22=$(find / -name '*.php' -mtime -1)\ncheck23=$(find / -name '*.aspx' -mtime -1)\ncheck24=$(find / -name '*.jsp' -mtime -1)\ncheck25=$(find / -name '*.html' -mtime -1)\ncheck26=$(find / -name '*.htm' -mtime -1)\ncheck9=$(find / -name core -exec ls -l {} \\;)\ncheck10=$(cat /etc/crontab)\ncheck12=$(ls -alt /usr/bin | head -10)\ncat <<EOF\n\n############################æŸ¥çœ‹æ‰€æœ‰è¢«ä¿®æ”¹è¿‡çš„æ–‡ä»¶è¿”å›æœ€è¿‘24å°æ—¶å†…çš„############################\n${check2}\n${check21}\n${check22}\n${check23}\n${check24}\n${check25}\n${check26}\n${line}\n \n############################æ£€æŸ¥å®šæ—¶æ–‡ä»¶çš„å®Œæ•´æ€§############################\n${check10}\n${line}\n\n############################æŸ¥çœ‹ç³»ç»Ÿå‘½ä»¤æ˜¯å¦è¢«æ›¿æ¢############################\n${check12}\n${line}\nEOF\n}\n \nfunction check(){\nversion\ngetSystemStatus\ngetCpuStatus\ngetMemStatus\ngetDiskStatus\ngetNetworkStatus\ngetListenStatus\ngetProcessStatus\ngetServiceStatus\ngetAutoStartStatus\ngetLoginStatus\ngetCronStatus\ngetUserStatus\ngetPasswordStatus\ngetSudoersStatus\ngetJDKStatus\ngetFirewallStatus\ngetSSHStatus\ngetSyslogStatus\ngetSNMPStatus\ngetNTPStatus\ngetInstalledStatus\ngetchage_file_24h\n}\n \n \n#æ‰§è¡Œæ£€æŸ¥å¹¶ä¿å­˜æ£€æŸ¥ç»“æœ\ncheck > $RESULTFILE\n \necho \"æ£€æŸ¥ç»“æœï¼š$RESULTFILE\"\necho -e \"`date \"+%Y-%m-%d %H:%M:%S\"` é˜¿é‡Œäº‘PHPä¼ä¸šå¹³å°å·¡æ£€æŠ¥å‘Š\"  | mail -a $RESULTFILE -s \"é˜¿é‡Œäº‘PHPä¼ä¸šå¹³å°å·¡æ£€æŠ¥å‘Š\" h@163.com\n\n```\n\nå‚è€ƒçŸ¥ä¹ä¸“æ [ã€ŠLinuxæœåŠ¡å™¨æ—¥å¸¸å·¡æ£€è„šæœ¬åˆ†äº«ã€‹](https://zhuanlan.zhihu.com/p/435262080)",
      "data": {
        "title": "Linux ä¸»æœºæ¯æ—¥å·¡æ£€è„šæœ¬",
        "date": "2021-11-22 15:05:01",
        "tags": [
          "Linux"
        ],
        "published": true,
        "hideInList": false,
        "feature": "/post-images/linux-zhu-ji-mei-ri-xun-jian-jiao-ben.png",
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "linux-zhu-ji-mei-ri-xun-jian-jiao-ben"
    },
    {
      "content": "### æ¥æº\n\nè¿™æ˜¯åŸºäºGithub Pages çš„é™æ€ç½‘ç«™ï¼ŒGitHubè´¦å·ä¸º[hiwyb](https://github.com/hiwyb)ã€‚\n\n\n### ç›®çš„\n\nä¸€äº›æŠ€æœ¯åˆ†äº«å’Œå¼€å‘è¿‡ç¨‹ä¸­çš„æ„Ÿæ‚Ÿã€‚",
      "data": {
        "title": "æˆ‘çš„ç¬¬ä¸€ç¯‡æŠ€æœ¯æ–‡ç« ",
        "date": "2021-11-22 13:59:33",
        "tags": [
          "Gridea"
        ],
        "published": true,
        "hideInList": false,
        "feature": "/post-images/wo-de-di-yi-pian-ji-zhu-wen-zhang.jpg",
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "wo-de-di-yi-pian-ji-zhu-wen-zhang"
    },
    {
      "content": "> æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ ï¼ğŸ¤\n\n## ğŸ  å…³äºæœ¬ç«™\n\n## ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°\n\nåå‚æ‘æ¬ç –å·¥ä¸€æš~ä¸»è¦ä»äº‹iOSå¼€å‘å·¥ä½œï¼Œå¦å¤–ä¼šå†™ç‚¹JavaScriptã€Pythonã€shellç­‰å¼€å‘è¯­è¨€ï¼›å¯¹Linuxä¸»æœºæ„Ÿå…´è¶£ï¼Œçˆ±å¥½ç§‘å­¦ä¸Šç½‘ï¼\n\n## â›¹ å…´è¶£çˆ±å¥½\n\n## ğŸ“¬ è”ç³»æˆ‘å‘€\n\n- [GitHubåœ°å€ï¼šhttps://github.com/wangyingbo/](https://github.com/wangyingbo/)\n- [é‚®ç®±ï¼šwybgit@gmail.com](wybgit@gmail.com)\n",
      "data": {
        "title": "å…³äº",
        "date": "2019-01-25 19:09:48",
        "tags": [],
        "published": true,
        "hideInList": false,
        "feature": null,
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "about"
    },
    {
      "content": "ğŸ‘  æ¬¢è¿ä½¿ç”¨ **Gridea** ï¼  \nâœï¸  **Gridea** ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ... \n\n<!-- more -->\n\n[Github](https://github.com/getgridea/gridea)  \n[Gridea ä¸»é¡µ](https://gridea.dev/)  \n[ç¤ºä¾‹ç½‘ç«™](http://fehey.com/)\n\n## ç‰¹æ€§ğŸ‘‡\nğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ **Markdown** è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ  \n\nğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡  \n\nğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„  \n\nğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•  \n\nğŸ’»  ä½ å¯ä»¥åœ¨ **Windows**ï¼Œ**MacOS** æˆ– **Linux** è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯  \n\nğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ **ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ** æˆ– **Coding Pages** å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°  \n\nğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ [Gitalk](https://github.com/gitalk/gitalk) æˆ– [DisqusJS](https://github.com/SukkaW/DisqusJS) è¯„è®ºç³»ç»Ÿ  \n\nğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨**ä¸­æ–‡ç®€ä½“**æˆ–**è‹±è¯­**  \n\nğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›  \n\nğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥  \n\nğŸŒ± å½“ç„¶ **Gridea** è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ\n\næœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´\n\nå°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼\n\nğŸ˜˜ Enjoy~\n",
      "data": {
        "title": "Hello Gridea",
        "date": "2018-12-12 00:00:00",
        "tags": [
          "Gridea"
        ],
        "published": true,
        "hideInList": false,
        "feature": "/post-images/hello-gridea.png",
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "ğŸ‘  æ¬¢è¿ä½¿ç”¨ **Gridea** ï¼  \nâœï¸  **Gridea** ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ... ",
      "fileName": "hello-gridea"
    }
  ],
  "tags": [
    {
      "name": "Macè½¯ä»¶",
      "slug": "y_z5IpA2B",
      "used": true
    },
    {
      "name": "shell",
      "slug": "DWwfs7VRV",
      "used": true
    },
    {
      "name": "GitHub",
      "slug": "EtiZT3XPY",
      "used": true
    },
    {
      "name": "Linux",
      "slug": "d2YeVEjXB",
      "used": true
    },
    {
      "name": "Gridea",
      "slug": "mRrbZXfqU",
      "used": true
    }
  ],
  "menus": [
    {
      "link": "/",
      "name": "é¦–é¡µ",
      "openType": "Internal"
    },
    {
      "link": "/archives",
      "name": "å½’æ¡£",
      "openType": "Internal"
    },
    {
      "link": "/tags",
      "name": "æ ‡ç­¾",
      "openType": "Internal"
    },
    {
      "link": "/post/about",
      "name": "å…³äº",
      "openType": "Internal"
    }
  ]
}